\hypertarget{list_8h}{\section{src/include/aplus/list.h File Reference}
\label{list_8h}\index{src/include/aplus/list.\+h@{src/include/aplus/list.\+h}}
}
{\ttfamily \#include $<$stddef.\+h$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$sys/types.\+h$>$}\\*
{\ttfamily \#include $<$aplus/spinlock.\+h$>$}\\*
{\ttfamily \#include $<$aplus/mm.\+h$>$}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structlist__body}{list\+\_\+body}
\item 
struct \hyperlink{structlist}{list}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{list_8h_a22853dfff2d59e6a8ea2d77eeed5f293}{list\+\_\+safe\+\_\+begin}(\hyperlink{structlist}{list})~\hyperlink{spinlock_8c_ab01e311f21f78fc3c2bd0bdf74ef85c4}{spinlock\+\_\+lock}(\&\hyperlink{structlist}{list}-\/$>$\hyperlink{spinlock_8h_aea28b4c44db4f0f1d0f222d6382c04c0}{lock})
\item 
\#define \hyperlink{list_8h_a55d0a2f3e6dcbf7213b13e9e0dd9d981}{list\+\_\+safe\+\_\+end}(\hyperlink{structlist}{list})~\hyperlink{spinlock_8c_a4ca6e661fa1b704d39d834ac7341b360}{spinlock\+\_\+unlock}(\&\hyperlink{structlist}{list}-\/$>$\hyperlink{spinlock_8h_aea28b4c44db4f0f1d0f222d6382c04c0}{lock})
\item 
\#define \hyperlink{list_8h_a1f44c976d2c698407a17fef984a5b232}{list\+\_\+foreach}(\hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{value}, \hyperlink{structlist}{list})
\item 
\#define \hyperlink{list_8h_a6e172d1395eb664ce14adbb6ab82abf3}{list\+\_\+foreach\+\_\+inverse}(\hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{value}, \hyperlink{structlist}{list})
\item 
\#define \hyperlink{list_8h_aa288c0785df071ed8643763202928c82}{list\+\_\+init}(\hyperlink{structlist}{list})
\item 
\#define \hyperlink{list_8h_a9c676c5a77ee9c18ccaadcb4f99fc990}{list\+\_\+destroy}(\hyperlink{structlist}{list})
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\+\_\+t}
\item 
typedef struct \hyperlink{structlist__body}{list\+\_\+body} \hyperlink{list_8h_a26009b16c17e2336df1025f49f3ebd7e}{list\+\_\+body\+\_\+t}
\item 
typedef struct \hyperlink{structlist}{list} \hyperlink{list_8h_af629e6a6713d7de11eab50cbe6449b06}{list\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static int \hyperlink{list_8h_a89e0fc8ca134e1dceb33c75b756e6754}{list\+\_\+empty} (\hyperlink{list_8h_af629e6a6713d7de11eab50cbe6449b06}{list\+\_\+t} $\ast$\hyperlink{structlist}{list})
\item 
static int \hyperlink{list_8h_a945ef9f05b26f6016d2f28ec8836b1f0}{list\+\_\+add} (\hyperlink{list_8h_af629e6a6713d7de11eab50cbe6449b06}{list\+\_\+t} $\ast$\hyperlink{structlist}{list}, \hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\+\_\+t} v)
\item 
static int \hyperlink{list_8h_a4470c240b622941415ae5250067699b5}{list\+\_\+remove} (\hyperlink{list_8h_af629e6a6713d7de11eab50cbe6449b06}{list\+\_\+t} $\ast$\hyperlink{structlist}{list}, \hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\+\_\+t} v)
\item 
static int \hyperlink{list_8h_ae055500d6fc23c82c45b2e5926df3b40}{list\+\_\+clear} (\hyperlink{list_8h_af629e6a6713d7de11eab50cbe6449b06}{list\+\_\+t} $\ast$\hyperlink{structlist}{list})
\item 
static void \hyperlink{list_8h_ad29245eda34d4cdac400323a1bd63cdd}{list\+\_\+clone} (\hyperlink{list_8h_af629e6a6713d7de11eab50cbe6449b06}{list\+\_\+t} $\ast$\hyperlink{ipv6_8h_ab4bf83701631abccacef4ebedf8db65e}{dest}, \hyperlink{list_8h_af629e6a6713d7de11eab50cbe6449b06}{list\+\_\+t} $\ast$src)
\item 
static \hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\+\_\+t} \hyperlink{list_8h_ae9b833d2dc140368303ecffecce7fe3f}{list\+\_\+prev} (\hyperlink{list_8h_af629e6a6713d7de11eab50cbe6449b06}{list\+\_\+t} $\ast$\hyperlink{structlist}{list}, \hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\+\_\+t} val)
\item 
static \hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\+\_\+t} \hyperlink{list_8h_abcd4418be12b04265c44dd69a1cfee1f}{list\+\_\+next} (\hyperlink{list_8h_af629e6a6713d7de11eab50cbe6449b06}{list\+\_\+t} $\ast$\hyperlink{structlist}{list}, \hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\+\_\+t} val)
\item 
static \hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\+\_\+t} \hyperlink{list_8h_aea7ba4088b37f0bd303771d71a066a90}{list\+\_\+tail} (\hyperlink{list_8h_af629e6a6713d7de11eab50cbe6449b06}{list\+\_\+t} $\ast$\hyperlink{structlist}{list})
\item 
static \hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\+\_\+t} \hyperlink{list_8h_a0c1ce6a6a566dc1db394540f5bf65149}{list\+\_\+head} (\hyperlink{list_8h_af629e6a6713d7de11eab50cbe6449b06}{list\+\_\+t} $\ast$\hyperlink{structlist}{list})
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{list_8h_a9c676c5a77ee9c18ccaadcb4f99fc990}{\index{list.\+h@{list.\+h}!list\+\_\+destroy@{list\+\_\+destroy}}
\index{list\+\_\+destroy@{list\+\_\+destroy}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+destroy}]{\setlength{\rightskip}{0pt plus 5cm}\#define list\+\_\+destroy(
\begin{DoxyParamCaption}
\item[{}]{{\bf list}}
\end{DoxyParamCaption}
)}}\label{list_8h_a9c676c5a77ee9c18ccaadcb4f99fc990}
{\bfseries Value\+:}
\begin{DoxyCode}
\hyperlink{list_8h_ae055500d6fc23c82c45b2e5926df3b40}{list\_clear}(\hyperlink{structlist}{list});                                     \hyperlink{mm_8h_acee1960bdb3a19cb495341ec725cafef}{\(\backslash\)}
\hyperlink{mm_8h_acee1960bdb3a19cb495341ec725cafef}{    kfree}(\hyperlink{structlist}{list})
\end{DoxyCode}


Definition at line 193 of file list.\+h.

\hypertarget{list_8h_a1f44c976d2c698407a17fef984a5b232}{\index{list.\+h@{list.\+h}!list\+\_\+foreach@{list\+\_\+foreach}}
\index{list\+\_\+foreach@{list\+\_\+foreach}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+foreach}]{\setlength{\rightskip}{0pt plus 5cm}\#define list\+\_\+foreach(
\begin{DoxyParamCaption}
\item[{}]{{\bf value}, }
\item[{}]{{\bf list}}
\end{DoxyParamCaption}
)}}\label{list_8h_a1f44c976d2c698407a17fef984a5b232}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{for}(\hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\_t} \hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{value} = \hyperlink{list_8h_a0c1ce6a6a566dc1db394540f5bf65149}{list\_head}(\hyperlink{structlist}{list});                   
      \hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{\(\backslash\)}
\hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{        value};                                               \hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{\(\backslash\)}
\hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{        value} = \hyperlink{list_8h_abcd4418be12b04265c44dd69a1cfee1f}{list\_next}(\hyperlink{structlist}{list}, \hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{value})                     \(\backslash\)
        )
\end{DoxyCode}


Definition at line 175 of file list.\+h.

\hypertarget{list_8h_a6e172d1395eb664ce14adbb6ab82abf3}{\index{list.\+h@{list.\+h}!list\+\_\+foreach\+\_\+inverse@{list\+\_\+foreach\+\_\+inverse}}
\index{list\+\_\+foreach\+\_\+inverse@{list\+\_\+foreach\+\_\+inverse}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+foreach\+\_\+inverse}]{\setlength{\rightskip}{0pt plus 5cm}\#define list\+\_\+foreach\+\_\+inverse(
\begin{DoxyParamCaption}
\item[{}]{{\bf value}, }
\item[{}]{{\bf list}}
\end{DoxyParamCaption}
)}}\label{list_8h_a6e172d1395eb664ce14adbb6ab82abf3}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{for}(\hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\_t} \hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{value} = \hyperlink{list_8h_aea7ba4088b37f0bd303771d71a066a90}{list\_tail}(\hyperlink{structlist}{list});                   
      \hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{\(\backslash\)}
\hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{        value};                                               \hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{\(\backslash\)}
\hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{        value} = \hyperlink{list_8h_ae9b833d2dc140368303ecffecce7fe3f}{list\_prev}(\hyperlink{structlist}{list}, \hyperlink{attribute_8h_ae7f66047e6e39ba2bb6af8b95f00d1dd}{value})                     \(\backslash\)
        )
\end{DoxyCode}


Definition at line 181 of file list.\+h.

\hypertarget{list_8h_aa288c0785df071ed8643763202928c82}{\index{list.\+h@{list.\+h}!list\+\_\+init@{list\+\_\+init}}
\index{list\+\_\+init@{list\+\_\+init}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}\#define list\+\_\+init(
\begin{DoxyParamCaption}
\item[{}]{{\bf list}}
\end{DoxyParamCaption}
)}}\label{list_8h_aa288c0785df071ed8643763202928c82}
{\bfseries Value\+:}
\begin{DoxyCode}
\hyperlink{structlist}{list} = (\hyperlink{structlist}{list\_t}*) \hyperlink{mm_8h_a1f5d4240b2decc62c0e6eae06c72916c}{kmalloc}(\textcolor{keyword}{sizeof}(\hyperlink{structlist}{list\_t}));                \(\backslash\)
    list->body = 0;                                         \(\backslash\)
    list->size = 0;                                         \(\backslash\)
    list->lock = 0
\end{DoxyCode}


Definition at line 187 of file list.\+h.

\hypertarget{list_8h_a22853dfff2d59e6a8ea2d77eeed5f293}{\index{list.\+h@{list.\+h}!list\+\_\+safe\+\_\+begin@{list\+\_\+safe\+\_\+begin}}
\index{list\+\_\+safe\+\_\+begin@{list\+\_\+safe\+\_\+begin}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+safe\+\_\+begin}]{\setlength{\rightskip}{0pt plus 5cm}\#define list\+\_\+safe\+\_\+begin(
\begin{DoxyParamCaption}
\item[{}]{{\bf list}}
\end{DoxyParamCaption}
)~{\bf spinlock\+\_\+lock}(\&{\bf list}-\/$>${\bf lock})}}\label{list_8h_a22853dfff2d59e6a8ea2d77eeed5f293}


Definition at line 169 of file list.\+h.

\hypertarget{list_8h_a55d0a2f3e6dcbf7213b13e9e0dd9d981}{\index{list.\+h@{list.\+h}!list\+\_\+safe\+\_\+end@{list\+\_\+safe\+\_\+end}}
\index{list\+\_\+safe\+\_\+end@{list\+\_\+safe\+\_\+end}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+safe\+\_\+end}]{\setlength{\rightskip}{0pt plus 5cm}\#define list\+\_\+safe\+\_\+end(
\begin{DoxyParamCaption}
\item[{}]{{\bf list}}
\end{DoxyParamCaption}
)~{\bf spinlock\+\_\+unlock}(\&{\bf list}-\/$>${\bf lock})}}\label{list_8h_a55d0a2f3e6dcbf7213b13e9e0dd9d981}


Definition at line 172 of file list.\+h.



\subsection{Typedef Documentation}
\hypertarget{list_8h_a26009b16c17e2336df1025f49f3ebd7e}{\index{list.\+h@{list.\+h}!list\+\_\+body\+\_\+t@{list\+\_\+body\+\_\+t}}
\index{list\+\_\+body\+\_\+t@{list\+\_\+body\+\_\+t}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+body\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf list\+\_\+body}  {\bf list\+\_\+body\+\_\+t}}}\label{list_8h_a26009b16c17e2336df1025f49f3ebd7e}
\hypertarget{list_8h_af629e6a6713d7de11eab50cbe6449b06}{\index{list.\+h@{list.\+h}!list\+\_\+t@{list\+\_\+t}}
\index{list\+\_\+t@{list\+\_\+t}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf list}  {\bf list\+\_\+t}}}\label{list_8h_af629e6a6713d7de11eab50cbe6449b06}
\hypertarget{list_8h_a83bc1af7566502e08756b8d8c425972e}{\index{list.\+h@{list.\+h}!listval\+\_\+t@{listval\+\_\+t}}
\index{listval\+\_\+t@{listval\+\_\+t}!list.\+h@{list.\+h}}
\subsubsection[{listval\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf uint32\+\_\+t} {\bf listval\+\_\+t}}}\label{list_8h_a83bc1af7566502e08756b8d8c425972e}


Definition at line 33 of file list.\+h.



\subsection{Function Documentation}
\hypertarget{list_8h_a945ef9f05b26f6016d2f28ec8836b1f0}{\index{list.\+h@{list.\+h}!list\+\_\+add@{list\+\_\+add}}
\index{list\+\_\+add@{list\+\_\+add}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+add}]{\setlength{\rightskip}{0pt plus 5cm}static int list\+\_\+add (
\begin{DoxyParamCaption}
\item[{{\bf list\+\_\+t} $\ast$}]{list, }
\item[{{\bf listval\+\_\+t}}]{v}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{list_8h_a945ef9f05b26f6016d2f28ec8836b1f0}


Definition at line 56 of file list.\+h.



References list\+::body, kmalloc(), list\+::lock, list\+\_\+body\+::next, list\+::size, spinlock\+\_\+lock(), spinlock\+\_\+unlock(), and list\+\_\+body\+::value.


\begin{DoxyCode}
56                                                       \{
57     \hyperlink{structlist__body}{list\_body\_t}* val = (\hyperlink{structlist__body}{list\_body\_t}*) \hyperlink{mm_8h_a1f5d4240b2decc62c0e6eae06c72916c}{kmalloc}(\textcolor{keyword}{sizeof}(
      \hyperlink{structlist__body}{list\_body\_t}));
58     \textcolor{keywordflow}{if}(!val)
59         \textcolor{keywordflow}{return} -1;
60         
61     \hyperlink{spinlock_8h_ab01e311f21f78fc3c2bd0bdf74ef85c4}{spinlock\_lock}(&list->\hyperlink{structlist_a38fd85cafd1f71a39e83dd37b37ffbf4}{lock});
62         
63     val->\hyperlink{structlist__body_ae3194d24911b82410a61d50f5e6f588d}{value} = v;
64     val->\hyperlink{structlist__body_ae0f31e0790456c070895880578d171ca}{next} = list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body};
65     
66     list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body} = val;
67     list->\hyperlink{structlist_ae581be90bd8eb7051528b61ad216de88}{size} += 1;
68     
69     \hyperlink{spinlock_8h_a4ca6e661fa1b704d39d834ac7341b360}{spinlock\_unlock}(&list->\hyperlink{structlist_a38fd85cafd1f71a39e83dd37b37ffbf4}{lock});
70     \textcolor{keywordflow}{return} 0;
71 \}
\end{DoxyCode}
\hypertarget{list_8h_ae055500d6fc23c82c45b2e5926df3b40}{\index{list.\+h@{list.\+h}!list\+\_\+clear@{list\+\_\+clear}}
\index{list\+\_\+clear@{list\+\_\+clear}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+clear}]{\setlength{\rightskip}{0pt plus 5cm}static int list\+\_\+clear (
\begin{DoxyParamCaption}
\item[{{\bf list\+\_\+t} $\ast$}]{list}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{list_8h_ae055500d6fc23c82c45b2e5926df3b40}


Definition at line 99 of file list.\+h.



References list\+::body, kfree(), list\+::lock, list\+\_\+body\+::next, list\+::size, spinlock\+\_\+lock(), and spinlock\+\_\+unlock().


\begin{DoxyCode}
99                                            \{
100     \hyperlink{spinlock_8h_ab01e311f21f78fc3c2bd0bdf74ef85c4}{spinlock\_lock}(&list->\hyperlink{structlist_a38fd85cafd1f71a39e83dd37b37ffbf4}{lock});
101     
102     \hyperlink{structlist__body}{list\_body\_t}* body = list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body};
103     \hyperlink{structlist__body}{list\_body\_t}* tmp = list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body};
104     
105     \textcolor{keywordflow}{while}(body) \{
106         tmp = body->\hyperlink{structlist__body_ae0f31e0790456c070895880578d171ca}{next};
107         \hyperlink{mm_8h_acee1960bdb3a19cb495341ec725cafef}{kfree}(body);
108         body = tmp;
109     \}
110     
111     list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body} = 0;
112     list->\hyperlink{structlist_ae581be90bd8eb7051528b61ad216de88}{size} = 0;
113     
114     \hyperlink{spinlock_8h_a4ca6e661fa1b704d39d834ac7341b360}{spinlock\_unlock}(&list->\hyperlink{structlist_a38fd85cafd1f71a39e83dd37b37ffbf4}{lock});
115     \textcolor{keywordflow}{return} 0;
116 \}
\end{DoxyCode}
\hypertarget{list_8h_ad29245eda34d4cdac400323a1bd63cdd}{\index{list.\+h@{list.\+h}!list\+\_\+clone@{list\+\_\+clone}}
\index{list\+\_\+clone@{list\+\_\+clone}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+clone}]{\setlength{\rightskip}{0pt plus 5cm}static void list\+\_\+clone (
\begin{DoxyParamCaption}
\item[{{\bf list\+\_\+t} $\ast$}]{dest, }
\item[{{\bf list\+\_\+t} $\ast$}]{src}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{list_8h_ad29245eda34d4cdac400323a1bd63cdd}


Definition at line 119 of file list.\+h.



References list\+::body, list\+\_\+add(), list\+::lock, list\+\_\+body\+::next, spinlock\+\_\+lock(), and spinlock\+\_\+unlock().


\begin{DoxyCode}
119                                                          \{
120     \hyperlink{spinlock_8h_ab01e311f21f78fc3c2bd0bdf74ef85c4}{spinlock\_lock}(&src->\hyperlink{structlist_a38fd85cafd1f71a39e83dd37b37ffbf4}{lock});
121     
122     \textcolor{keywordflow}{for}(\hyperlink{structlist__body}{list\_body\_t}* i = src->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body}; i; i = i->\hyperlink{structlist__body_ae0f31e0790456c070895880578d171ca}{next}) \{
123         \hyperlink{list_8h_a945ef9f05b26f6016d2f28ec8836b1f0}{list\_add}(dest, i->value);
124     \}
125     
126     \hyperlink{spinlock_8h_a4ca6e661fa1b704d39d834ac7341b360}{spinlock\_unlock}(&src->\hyperlink{structlist_a38fd85cafd1f71a39e83dd37b37ffbf4}{lock});
127 \}
\end{DoxyCode}
\hypertarget{list_8h_a89e0fc8ca134e1dceb33c75b756e6754}{\index{list.\+h@{list.\+h}!list\+\_\+empty@{list\+\_\+empty}}
\index{list\+\_\+empty@{list\+\_\+empty}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+empty}]{\setlength{\rightskip}{0pt plus 5cm}static int list\+\_\+empty (
\begin{DoxyParamCaption}
\item[{{\bf list\+\_\+t} $\ast$}]{list}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{list_8h_a89e0fc8ca134e1dceb33c75b756e6754}


Definition at line 49 of file list.\+h.



References list\+::size.


\begin{DoxyCode}
49                                            \{
50     \textcolor{keywordflow}{if}(list)
51         \textcolor{keywordflow}{return} list->\hyperlink{structlist_ae581be90bd8eb7051528b61ad216de88}{size} == 0;
52     \textcolor{keywordflow}{else}
53         \textcolor{keywordflow}{return} 1;   \textcolor{comment}{/* empty */}
54 \}
\end{DoxyCode}
\hypertarget{list_8h_a0c1ce6a6a566dc1db394540f5bf65149}{\index{list.\+h@{list.\+h}!list\+\_\+head@{list\+\_\+head}}
\index{list\+\_\+head@{list\+\_\+head}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+head}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf listval\+\_\+t} list\+\_\+head (
\begin{DoxyParamCaption}
\item[{{\bf list\+\_\+t} $\ast$}]{list}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{list_8h_a0c1ce6a6a566dc1db394540f5bf65149}


Definition at line 156 of file list.\+h.



References list\+::body, list\+\_\+body\+::next, and list\+\_\+body\+::value.


\begin{DoxyCode}
156                                                 \{
157 
158     \textcolor{keywordflow}{if}(!list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body})
159         \textcolor{keywordflow}{return} (\hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\_t}) NULL;
160     
161     \hyperlink{structlist__body}{list\_body\_t}* tmp = list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body};
162     \textcolor{keywordflow}{while}(tmp->\hyperlink{structlist__body_ae0f31e0790456c070895880578d171ca}{next})
163         tmp = tmp->\hyperlink{structlist__body_ae0f31e0790456c070895880578d171ca}{next};
164         
165     \textcolor{keywordflow}{return} (\hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\_t}) tmp->\hyperlink{structlist__body_ae3194d24911b82410a61d50f5e6f588d}{value};
166 \}
\end{DoxyCode}
\hypertarget{list_8h_abcd4418be12b04265c44dd69a1cfee1f}{\index{list.\+h@{list.\+h}!list\+\_\+next@{list\+\_\+next}}
\index{list\+\_\+next@{list\+\_\+next}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+next}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf listval\+\_\+t} list\+\_\+next (
\begin{DoxyParamCaption}
\item[{{\bf list\+\_\+t} $\ast$}]{list, }
\item[{{\bf listval\+\_\+t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{list_8h_abcd4418be12b04265c44dd69a1cfee1f}


Definition at line 139 of file list.\+h.



References list\+::body, and list\+\_\+body\+::next.


\begin{DoxyCode}
139                                                                \{
140     \textcolor{keywordflow}{for}(\hyperlink{structlist__body}{list\_body\_t}* i = list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body}; i; i = i->\hyperlink{structlist__body_ae0f31e0790456c070895880578d171ca}{next}) \{
141         \textcolor{keywordflow}{if}(i->next)
142             \textcolor{keywordflow}{if}(i->next->value == val)
143                 \textcolor{keywordflow}{return} i->value;
144     \}
145     
146     \textcolor{keywordflow}{return} (\hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\_t}) NULL;
147 \}
\end{DoxyCode}
\hypertarget{list_8h_ae9b833d2dc140368303ecffecce7fe3f}{\index{list.\+h@{list.\+h}!list\+\_\+prev@{list\+\_\+prev}}
\index{list\+\_\+prev@{list\+\_\+prev}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+prev}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf listval\+\_\+t} list\+\_\+prev (
\begin{DoxyParamCaption}
\item[{{\bf list\+\_\+t} $\ast$}]{list, }
\item[{{\bf listval\+\_\+t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{list_8h_ae9b833d2dc140368303ecffecce7fe3f}


Definition at line 129 of file list.\+h.



References list\+::body, and list\+\_\+body\+::next.


\begin{DoxyCode}
129                                                                \{
130     \textcolor{keywordflow}{for}(\hyperlink{structlist__body}{list\_body\_t}* i = list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body}; i; i = i->\hyperlink{structlist__body_ae0f31e0790456c070895880578d171ca}{next}) \{
131         \textcolor{keywordflow}{if}(i->value == val)
132             \textcolor{keywordflow}{if}(i->next)
133                 \textcolor{keywordflow}{return} i->next->value;
134     \}
135     
136     \textcolor{keywordflow}{return} (\hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\_t}) NULL;
137 \}
\end{DoxyCode}
\hypertarget{list_8h_a4470c240b622941415ae5250067699b5}{\index{list.\+h@{list.\+h}!list\+\_\+remove@{list\+\_\+remove}}
\index{list\+\_\+remove@{list\+\_\+remove}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+remove}]{\setlength{\rightskip}{0pt plus 5cm}static int list\+\_\+remove (
\begin{DoxyParamCaption}
\item[{{\bf list\+\_\+t} $\ast$}]{list, }
\item[{{\bf listval\+\_\+t}}]{v}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{list_8h_a4470c240b622941415ae5250067699b5}


Definition at line 73 of file list.\+h.



References list\+::body, kfree(), list\+::lock, list\+\_\+body\+::next, spinlock\+\_\+lock(), spinlock\+\_\+unlock(), and list\+\_\+body\+::value.


\begin{DoxyCode}
73                                                          \{
74     \hyperlink{spinlock_8h_ab01e311f21f78fc3c2bd0bdf74ef85c4}{spinlock\_lock}(&list->\hyperlink{structlist_a38fd85cafd1f71a39e83dd37b37ffbf4}{lock});
75     
76     \hyperlink{structlist__body}{list\_body\_t}* body = list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body};
77     \hyperlink{structlist__body}{list\_body\_t}* prev = 0;
78     
79     \textcolor{keywordflow}{while}(body) \{
80         \textcolor{keywordflow}{if}(body->\hyperlink{structlist__body_ae3194d24911b82410a61d50f5e6f588d}{value} == v) \{
81             \textcolor{keywordflow}{if}(prev)
82                 prev->\hyperlink{structlist__body_ae0f31e0790456c070895880578d171ca}{next} = body->\hyperlink{structlist__body_ae0f31e0790456c070895880578d171ca}{next};
83             \textcolor{keywordflow}{else}
84                 list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body} = body->\hyperlink{structlist__body_ae0f31e0790456c070895880578d171ca}{next};
85                 
86             body->\hyperlink{structlist__body_ae3194d24911b82410a61d50f5e6f588d}{value} = 0;
87             \hyperlink{mm_8h_acee1960bdb3a19cb495341ec725cafef}{kfree}(body);
88             \textcolor{keywordflow}{break};
89         \}
90         
91         prev = body;
92         body = body->\hyperlink{structlist__body_ae0f31e0790456c070895880578d171ca}{next};
93     \}
94     
95     \hyperlink{spinlock_8h_a4ca6e661fa1b704d39d834ac7341b360}{spinlock\_unlock}(&list->\hyperlink{structlist_a38fd85cafd1f71a39e83dd37b37ffbf4}{lock});
96     \textcolor{keywordflow}{return} 0;
97 \}
\end{DoxyCode}
\hypertarget{list_8h_aea7ba4088b37f0bd303771d71a066a90}{\index{list.\+h@{list.\+h}!list\+\_\+tail@{list\+\_\+tail}}
\index{list\+\_\+tail@{list\+\_\+tail}!list.\+h@{list.\+h}}
\subsubsection[{list\+\_\+tail}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf listval\+\_\+t} list\+\_\+tail (
\begin{DoxyParamCaption}
\item[{{\bf list\+\_\+t} $\ast$}]{list}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{list_8h_aea7ba4088b37f0bd303771d71a066a90}


Definition at line 149 of file list.\+h.



References list\+::body, and list\+\_\+body\+::value.


\begin{DoxyCode}
149                                                 \{
150     \textcolor{keywordflow}{if}(list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body})
151         \textcolor{keywordflow}{return} list->\hyperlink{structlist_a86cadf6e44fd6505728c5149b336d3db}{body}->\hyperlink{structlist__body_ae3194d24911b82410a61d50f5e6f588d}{value};
152         
153     \textcolor{keywordflow}{return} (\hyperlink{list_8h_a83bc1af7566502e08756b8d8c425972e}{listval\_t}) NULL;
154 \}
\end{DoxyCode}
