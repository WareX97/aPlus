\hypertarget{dirent_8h}{\section{Riferimenti per il file usr/src/libposix/include/sys/dirent.h}
\label{dirent_8h}\index{usr/src/libposix/include/sys/dirent.\+h@{usr/src/libposix/include/sys/dirent.\+h}}
}
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$sys/types.\+h$>$}\\*
\subsection*{Strutture dati}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct____DIR}{\+\_\+\+\_\+\+D\+I\+R}
\item 
struct \hyperlink{structdirent}{dirent}
\end{DoxyCompactItemize}
\subsection*{Definizioni}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{dirent_8h_a6afd3dd2f570069804b40e6aa24fc966}{O\+\_\+\+D\+I\+R\+E\+C\+T\+O\+R\+Y}~00200000
\item 
\#define \hyperlink{dirent_8h_a82d4d551b214905742c9e045185d352a}{O\+\_\+\+N\+O\+F\+O\+L\+L\+O\+W}~00400000
\end{DoxyCompactItemize}
\subsection*{Ridefinizioni di tipo (typedef)}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{struct____DIR}{\+\_\+\+\_\+\+D\+I\+R} \hyperlink{dirent_8h_a067065071b5bdb96054ed58b5f848bfa}{D\+I\+R}
\end{DoxyCompactItemize}
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{dirent_8h_a8a52fd9a3ded793b8200ac0a5a1f10d2}{alphasort} (const struct \hyperlink{structdirent}{dirent} $\ast$$\ast$a, const struct \hyperlink{structdirent}{dirent} $\ast$$\ast$b)
\item 
int \hyperlink{dirent_8h_a058e669d865116ec6419ea3a52207830}{closedir} (\hyperlink{dirent_8h_a067065071b5bdb96054ed58b5f848bfa}{D\+I\+R} $\ast$\hyperlink{panic_8c_a77b5b9b7c5109d0943ef9f2e5c557fb9}{d})
\item 
\hyperlink{dirent_8h_a067065071b5bdb96054ed58b5f848bfa}{D\+I\+R} $\ast$ \hyperlink{dirent_8h_afa648ff43ec9eba592716a334f243111}{opendir} (const char $\ast$path)
\item 
struct \hyperlink{structdirent}{dirent} $\ast$ \hyperlink{dirent_8h_aa7687571d2af8efd5153874ae6e678d9}{readdir} (\hyperlink{dirent_8h_a067065071b5bdb96054ed58b5f848bfa}{D\+I\+R} $\ast$\hyperlink{panic_8c_a77b5b9b7c5109d0943ef9f2e5c557fb9}{d})
\item 
void \hyperlink{dirent_8h_a08e6a89050229d246d07d9e17d57cb29}{rewinddir} (\hyperlink{dirent_8h_a067065071b5bdb96054ed58b5f848bfa}{D\+I\+R} $\ast$\hyperlink{panic_8c_a77b5b9b7c5109d0943ef9f2e5c557fb9}{d})
\item 
int \hyperlink{dirent_8h_a53d80292d58567db0826c243ab29166b}{scandir} (const char $\ast$pathname, struct \hyperlink{structdirent}{dirent} $\ast$$\ast$$\ast$namelist, int($\ast$select)(const struct \hyperlink{structdirent}{dirent} $\ast$), int($\ast$compar)(const struct \hyperlink{structdirent}{dirent} $\ast$$\ast$, const struct \hyperlink{structdirent}{dirent} $\ast$$\ast$))
\item 
void \hyperlink{dirent_8h_a58829cca160034015b3dddc17bb502ab}{seekdir} (\hyperlink{dirent_8h_a067065071b5bdb96054ed58b5f848bfa}{D\+I\+R} $\ast$\hyperlink{panic_8c_a77b5b9b7c5109d0943ef9f2e5c557fb9}{d}, off\+\_\+t \hyperlink{ipv4_8h_ac681806181c80437cfab37335f62ff39}{offset})
\item 
off\+\_\+t \hyperlink{dirent_8h_a8460dc201f4c651f8d6b84b4316e4180}{telldir} (\hyperlink{dirent_8h_a067065071b5bdb96054ed58b5f848bfa}{D\+I\+R} $\ast$\hyperlink{panic_8c_a77b5b9b7c5109d0943ef9f2e5c557fb9}{d})
\end{DoxyCompactItemize}


\subsection{Documentazione delle definizioni}
\hypertarget{dirent_8h_a6afd3dd2f570069804b40e6aa24fc966}{\index{dirent.\+h@{dirent.\+h}!O\+\_\+\+D\+I\+R\+E\+C\+T\+O\+R\+Y@{O\+\_\+\+D\+I\+R\+E\+C\+T\+O\+R\+Y}}
\index{O\+\_\+\+D\+I\+R\+E\+C\+T\+O\+R\+Y@{O\+\_\+\+D\+I\+R\+E\+C\+T\+O\+R\+Y}!dirent.\+h@{dirent.\+h}}
\subsubsection[{O\+\_\+\+D\+I\+R\+E\+C\+T\+O\+R\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+\_\+\+D\+I\+R\+E\+C\+T\+O\+R\+Y~00200000}}\label{dirent_8h_a6afd3dd2f570069804b40e6aa24fc966}


Definizione alla linea 42 del file dirent.\+h.

\hypertarget{dirent_8h_a82d4d551b214905742c9e045185d352a}{\index{dirent.\+h@{dirent.\+h}!O\+\_\+\+N\+O\+F\+O\+L\+L\+O\+W@{O\+\_\+\+N\+O\+F\+O\+L\+L\+O\+W}}
\index{O\+\_\+\+N\+O\+F\+O\+L\+L\+O\+W@{O\+\_\+\+N\+O\+F\+O\+L\+L\+O\+W}!dirent.\+h@{dirent.\+h}}
\subsubsection[{O\+\_\+\+N\+O\+F\+O\+L\+L\+O\+W}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+\_\+\+N\+O\+F\+O\+L\+L\+O\+W~00400000}}\label{dirent_8h_a82d4d551b214905742c9e045185d352a}


Definizione alla linea 46 del file dirent.\+h.



\subsection{Documentazione delle ridefinizioni di tipo (typedef)}
\hypertarget{dirent_8h_a067065071b5bdb96054ed58b5f848bfa}{\index{dirent.\+h@{dirent.\+h}!D\+I\+R@{D\+I\+R}}
\index{D\+I\+R@{D\+I\+R}!dirent.\+h@{dirent.\+h}}
\subsubsection[{D\+I\+R}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf \+\_\+\+\_\+\+D\+I\+R}  {\bf D\+I\+R}}}\label{dirent_8h_a067065071b5bdb96054ed58b5f848bfa}


\subsection{Documentazione delle funzioni}
\hypertarget{dirent_8h_a8a52fd9a3ded793b8200ac0a5a1f10d2}{\index{dirent.\+h@{dirent.\+h}!alphasort@{alphasort}}
\index{alphasort@{alphasort}!dirent.\+h@{dirent.\+h}}
\subsubsection[{alphasort}]{\setlength{\rightskip}{0pt plus 5cm}int alphasort (
\begin{DoxyParamCaption}
\item[{const struct {\bf dirent} $\ast$$\ast$}]{a, }
\item[{const struct {\bf dirent} $\ast$$\ast$}]{b}
\end{DoxyParamCaption}
)}}\label{dirent_8h_a8a52fd9a3ded793b8200ac0a5a1f10d2}


Definizione alla linea 12 del file alphasort.\+c.


\begin{DoxyCode}
12                                                                 \{
13     \textcolor{keywordflow}{return} strcoll((*a)->d\_name, (*b)->d\_name);
14 \}
\end{DoxyCode}
\hypertarget{dirent_8h_a058e669d865116ec6419ea3a52207830}{\index{dirent.\+h@{dirent.\+h}!closedir@{closedir}}
\index{closedir@{closedir}!dirent.\+h@{dirent.\+h}}
\subsubsection[{closedir}]{\setlength{\rightskip}{0pt plus 5cm}int closedir (
\begin{DoxyParamCaption}
\item[{{\bf D\+I\+R} $\ast$}]{d}
\end{DoxyParamCaption}
)}}\label{dirent_8h_a058e669d865116ec6419ea3a52207830}


Definizione alla linea 11 del file closedir.\+c.



Referenzia errno, \+\_\+\+\_\+\+D\+I\+R\+::fd, e \+\_\+\+\_\+\+D\+I\+R\+::position.


\begin{DoxyCode}
11                      \{
12     \textcolor{keywordflow}{if}(d == NULL) \{
13         \hyperlink{errno_8c_ad65a8842cc674e3ddf69355898c0ecbf}{errno} = EINVAL;
14         \textcolor{keywordflow}{return} -1;
15     \}
16 
17     close(d->\hyperlink{struct____DIR_ae243fc79067063164eb8ec212e6a9e80}{fd});
18 
19     d->\hyperlink{struct____DIR_ae243fc79067063164eb8ec212e6a9e80}{fd} = -1;
20     d->\hyperlink{struct____DIR_adcec35c0ea0ed4342c5425c494554397}{position} = -1;
21 
22     \textcolor{keywordflow}{return} 0;
23 \}
\end{DoxyCode}
\hypertarget{dirent_8h_afa648ff43ec9eba592716a334f243111}{\index{dirent.\+h@{dirent.\+h}!opendir@{opendir}}
\index{opendir@{opendir}!dirent.\+h@{dirent.\+h}}
\subsubsection[{opendir}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+I\+R}$\ast$ opendir (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path}
\end{DoxyParamCaption}
)}}\label{dirent_8h_afa648ff43ec9eba592716a334f243111}


Definizione alla linea 13 del file opendir.\+c.



Referenzia d, errno, \+\_\+\+\_\+\+D\+I\+R\+::fd, O\+\_\+\+D\+I\+R\+E\+C\+T\+O\+R\+Y, e \+\_\+\+\_\+\+D\+I\+R\+::position.


\begin{DoxyCode}
13                                \{
14     \textcolor{keywordtype}{int} fd = open(path, O\_RDONLY | \hyperlink{dirent_8h_a6afd3dd2f570069804b40e6aa24fc966}{O\_DIRECTORY}, 0644);
15     \textcolor{keywordflow}{if}(fd < 0) \{
16         \hyperlink{errno_8c_ad65a8842cc674e3ddf69355898c0ecbf}{errno} = ENOENT;
17         \textcolor{keywordflow}{return} NULL;
18     \}
19 
20     \hyperlink{struct____DIR}{DIR}* \hyperlink{panic_8c_a77b5b9b7c5109d0943ef9f2e5c557fb9}{d} = (\hyperlink{struct____DIR}{DIR}*) malloc(\textcolor{keyword}{sizeof}(\hyperlink{struct____DIR}{DIR}));
21     d->\hyperlink{struct____DIR_ae243fc79067063164eb8ec212e6a9e80}{fd} = fd;
22     d->\hyperlink{struct____DIR_adcec35c0ea0ed4342c5425c494554397}{position} = 0;
23 
24     \textcolor{keywordflow}{return} \hyperlink{panic_8c_a77b5b9b7c5109d0943ef9f2e5c557fb9}{d};
25 \}
\end{DoxyCode}
\hypertarget{dirent_8h_aa7687571d2af8efd5153874ae6e678d9}{\index{dirent.\+h@{dirent.\+h}!readdir@{readdir}}
\index{readdir@{readdir}!dirent.\+h@{dirent.\+h}}
\subsubsection[{readdir}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf dirent}$\ast$ readdir (
\begin{DoxyParamCaption}
\item[{{\bf D\+I\+R} $\ast$}]{d}
\end{DoxyParamCaption}
)}}\label{dirent_8h_aa7687571d2af8efd5153874ae6e678d9}


Definizione alla linea 15 del file readdir.\+c.



Referenzia errno.


\begin{DoxyCode}
15                                \{
16     \textcolor{keywordflow}{if}(d == NULL) \{
17         \hyperlink{errno_8c_ad65a8842cc674e3ddf69355898c0ecbf}{errno} = EINVAL;
18         \textcolor{keywordflow}{return} NULL;
19     \}
20 
21     \textcolor{keywordflow}{return} \_\_os\_readdir(d);
22 \}
\end{DoxyCode}
\hypertarget{dirent_8h_a08e6a89050229d246d07d9e17d57cb29}{\index{dirent.\+h@{dirent.\+h}!rewinddir@{rewinddir}}
\index{rewinddir@{rewinddir}!dirent.\+h@{dirent.\+h}}
\subsubsection[{rewinddir}]{\setlength{\rightskip}{0pt plus 5cm}void rewinddir (
\begin{DoxyParamCaption}
\item[{{\bf D\+I\+R} $\ast$}]{d}
\end{DoxyParamCaption}
)}}\label{dirent_8h_a08e6a89050229d246d07d9e17d57cb29}


Definizione alla linea 11 del file rewinddir.\+c.



Referenzia \+\_\+\+\_\+\+D\+I\+R\+::position.


\begin{DoxyCode}
11                        \{
12     \textcolor{keywordflow}{if}(d)
13         d->\hyperlink{struct____DIR_adcec35c0ea0ed4342c5425c494554397}{position} = 0;
14 \}
\end{DoxyCode}
\hypertarget{dirent_8h_a53d80292d58567db0826c243ab29166b}{\index{dirent.\+h@{dirent.\+h}!scandir@{scandir}}
\index{scandir@{scandir}!dirent.\+h@{dirent.\+h}}
\subsubsection[{scandir}]{\setlength{\rightskip}{0pt plus 5cm}int scandir (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{pathname, }
\item[{struct {\bf dirent} $\ast$$\ast$$\ast$}]{namelist, }
\item[{int($\ast$)(const struct {\bf dirent} $\ast$)}]{select, }
\item[{int($\ast$)(const struct {\bf dirent} $\ast$$\ast$, const struct {\bf dirent} $\ast$$\ast$)}]{compar}
\end{DoxyParamCaption}
)}}\label{dirent_8h_a53d80292d58567db0826c243ab29166b}


Definizione alla linea 11 del file scandir.\+c.



Referenzia d, errno, opendir(), e readdir().


\begin{DoxyCode}
11                                                                                                            
                                                             \{
12     \hyperlink{struct____DIR}{DIR}* \hyperlink{panic_8c_a77b5b9b7c5109d0943ef9f2e5c557fb9}{d} = \hyperlink{dirent_8h_afa648ff43ec9eba592716a334f243111}{opendir}(pathname);
13     \textcolor{keywordflow}{if}(d == NULL) \{
14         \hyperlink{errno_8c_ad65a8842cc674e3ddf69355898c0ecbf}{errno} = ENOENT;
15         \textcolor{keywordflow}{return} -1;
16     \}
17 
18     \textcolor{keywordflow}{if}(namelist == NULL) \{
19         \hyperlink{errno_8c_ad65a8842cc674e3ddf69355898c0ecbf}{errno} = EINVAL;
20         \textcolor{keywordflow}{return} -1;
21     \}
22 
23     \textcolor{keyword}{const} \textcolor{keyword}{struct }\hyperlink{structdirent}{dirent}* ent = NULL;
24     \textcolor{keyword}{const} \textcolor{keyword}{struct }\hyperlink{structdirent}{dirent}** lst = (\textcolor{keyword}{const} \textcolor{keyword}{struct }\hyperlink{structdirent}{dirent}**) *namelist;
25 
26     \textcolor{keywordtype}{int} index = 0;
27 
28 
29     \textcolor{keywordflow}{while}((ent = \hyperlink{dirent_8h_aa7687571d2af8efd5153874ae6e678d9}{readdir}(d))) \{
30         \textcolor{keywordflow}{if}(select)
31             \textcolor{keywordflow}{if}(select(ent) != 0)
32                 \textcolor{keywordflow}{continue};
33 
34         
35         \textcolor{keywordflow}{if}((index > 0) && (compar) && (compar(&lst[index - 1], &ent) > 0)) \{
36             lst[index] = lst[index - 1];
37             lst[index - 1] = ent;
38         \} \textcolor{keywordflow}{else}
39             lst[index] = ent;
40 
41         index += 1;
42     \}
43 
44     \textcolor{keywordflow}{return} index;
45 \}
\end{DoxyCode}
\hypertarget{dirent_8h_a58829cca160034015b3dddc17bb502ab}{\index{dirent.\+h@{dirent.\+h}!seekdir@{seekdir}}
\index{seekdir@{seekdir}!dirent.\+h@{dirent.\+h}}
\subsubsection[{seekdir}]{\setlength{\rightskip}{0pt plus 5cm}void seekdir (
\begin{DoxyParamCaption}
\item[{{\bf D\+I\+R} $\ast$}]{d, }
\item[{off\+\_\+t}]{offset}
\end{DoxyParamCaption}
)}}\label{dirent_8h_a58829cca160034015b3dddc17bb502ab}


Definizione alla linea 13 del file seekdir.\+c.



Referenzia offset, e \+\_\+\+\_\+\+D\+I\+R\+::position.


\begin{DoxyCode}
13                                    \{
14     \textcolor{keywordflow}{if}(d)
15         d->\hyperlink{struct____DIR_adcec35c0ea0ed4342c5425c494554397}{position} = \hyperlink{ipv4_8h_ac681806181c80437cfab37335f62ff39}{offset};
16 \}
\end{DoxyCode}
\hypertarget{dirent_8h_a8460dc201f4c651f8d6b84b4316e4180}{\index{dirent.\+h@{dirent.\+h}!telldir@{telldir}}
\index{telldir@{telldir}!dirent.\+h@{dirent.\+h}}
\subsubsection[{telldir}]{\setlength{\rightskip}{0pt plus 5cm}off\+\_\+t telldir (
\begin{DoxyParamCaption}
\item[{{\bf D\+I\+R} $\ast$}]{d}
\end{DoxyParamCaption}
)}}\label{dirent_8h_a8460dc201f4c651f8d6b84b4316e4180}


Definizione alla linea 11 del file telldir.\+c.



Referenzia errno, e \+\_\+\+\_\+\+D\+I\+R\+::position.


\begin{DoxyCode}
11                       \{
12     \textcolor{keywordflow}{if}(d == NULL) \{
13         \hyperlink{errno_8c_ad65a8842cc674e3ddf69355898c0ecbf}{errno} = EINVAL;
14         \textcolor{keywordflow}{return} -1;
15     \}
16 
17     \textcolor{keywordflow}{return} d->\hyperlink{struct____DIR_adcec35c0ea0ed4342c5425c494554397}{position};
18 \}
\end{DoxyCode}
