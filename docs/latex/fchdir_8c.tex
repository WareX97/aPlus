\hypertarget{fchdir_8c}{\section{src/syscall/fchdir.c File Reference}
\label{fchdir_8c}\index{src/syscall/fchdir.\+c@{src/syscall/fchdir.\+c}}
}
{\ttfamily \#include $<$aplus.\+h$>$}\\*
{\ttfamily \#include $<$aplus/fs.\+h$>$}\\*
{\ttfamily \#include $<$aplus/syscall.\+h$>$}\\*
{\ttfamily \#include $<$aplus/task.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$fcntl.\+h$>$}\\*
{\ttfamily \#include $<$dirent.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{fchdir_8c_a58569b5c13bd9e4300954e28b138473a}{sys\+\_\+fchdir} (int fd)
\item 
\hyperlink{fchdir_8c_a271d2184f43cc5ec6f69b0d305cf87ab}{S\+Y\+S\+C\+A\+L\+L} (\hyperlink{fchdir_8c_a58569b5c13bd9e4300954e28b138473a}{sys\+\_\+fchdir}, 29)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{task_8h_a8aeef2cdb643462b97cd459a8e68cad3}{task\+\_\+t} $\ast$ \hyperlink{fchdir_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\+\_\+task}
\begin{DoxyCompactList}\small\item\em Current task address. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{fchdir_8c_a58569b5c13bd9e4300954e28b138473a}{\index{fchdir.\+c@{fchdir.\+c}!sys\+\_\+fchdir@{sys\+\_\+fchdir}}
\index{sys\+\_\+fchdir@{sys\+\_\+fchdir}!fchdir.\+c@{fchdir.\+c}}
\subsubsection[{sys\+\_\+fchdir}]{\setlength{\rightskip}{0pt plus 5cm}int sys\+\_\+fchdir (
\begin{DoxyParamCaption}
\item[{int}]{fd}
\end{DoxyParamCaption}
)}}\label{fchdir_8c_a58569b5c13bd9e4300954e28b138473a}


Definition at line 15 of file fchdir.\+c.



References task\+::cwd, errno, task\+::fd, and T\+A\+S\+K\+\_\+\+M\+A\+X\+\_\+\+F\+D.


\begin{DoxyCode}
15                        \{
16     \textcolor{keywordflow}{if}(fd < 0 || fd > \hyperlink{task_8h_aa0beab24d02a2ccd5d273dea188af93d}{TASK\_MAX\_FD}) \{
17         \hyperlink{errno_8c_ad65a8842cc674e3ddf69355898c0ecbf}{errno} = EBADF;
18         \textcolor{keywordflow}{return} -1;
19     \}
20 
21 
22     \textcolor{keywordflow}{if}(\hyperlink{fchdir_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\_task}->\hyperlink{structtask_afeeb6bafaefe505e6a730dd4e0be5a1a}{fd}[fd] == NULL) \{
23         \hyperlink{errno_8c_ad65a8842cc674e3ddf69355898c0ecbf}{errno} = EBADF;
24         \textcolor{keywordflow}{return} -1;
25     \}
26 
27 
28     \hyperlink{fchdir_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\_task}->\hyperlink{structtask_a7099e7ba6a4c94559edfb4d396803b15}{cwd} = \hyperlink{fchdir_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\_task}->\hyperlink{structtask_afeeb6bafaefe505e6a730dd4e0be5a1a}{fd}[fd];
29     \textcolor{keywordflow}{return} 0;
30 \}
\end{DoxyCode}
\hypertarget{fchdir_8c_a271d2184f43cc5ec6f69b0d305cf87ab}{\index{fchdir.\+c@{fchdir.\+c}!S\+Y\+S\+C\+A\+L\+L@{S\+Y\+S\+C\+A\+L\+L}}
\index{S\+Y\+S\+C\+A\+L\+L@{S\+Y\+S\+C\+A\+L\+L}!fchdir.\+c@{fchdir.\+c}}
\subsubsection[{S\+Y\+S\+C\+A\+L\+L}]{\setlength{\rightskip}{0pt plus 5cm}S\+Y\+S\+C\+A\+L\+L (
\begin{DoxyParamCaption}
\item[{{\bf sys\+\_\+fchdir}}]{, }
\item[{29}]{}
\end{DoxyParamCaption}
)}}\label{fchdir_8c_a271d2184f43cc5ec6f69b0d305cf87ab}


\subsection{Variable Documentation}
\hypertarget{fchdir_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{\index{fchdir.\+c@{fchdir.\+c}!current\+\_\+task@{current\+\_\+task}}
\index{current\+\_\+task@{current\+\_\+task}!fchdir.\+c@{fchdir.\+c}}
\subsubsection[{current\+\_\+task}]{\setlength{\rightskip}{0pt plus 5cm}{\bf task\+\_\+t}$\ast$ current\+\_\+task}}\label{fchdir_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}


Current task address. 



Definition at line 37 of file sched.\+c.

