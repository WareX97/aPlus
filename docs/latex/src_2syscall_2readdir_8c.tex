\hypertarget{src_2syscall_2readdir_8c}{\section{src/syscall/readdir.c File Reference}
\label{src_2syscall_2readdir_8c}\index{src/syscall/readdir.\+c@{src/syscall/readdir.\+c}}
}
{\ttfamily \#include $<$aplus.\+h$>$}\\*
{\ttfamily \#include $<$aplus/syscall.\+h$>$}\\*
{\ttfamily \#include $<$aplus/task.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structdirent}{dirent} $\ast$ \hyperlink{src_2syscall_2readdir_8c_a46fbf74e1730b06f865fe6e0dba03a61}{sys\+\_\+readdir} (int fd, int position)
\item 
\hyperlink{src_2syscall_2readdir_8c_a33e160890354903b1195af9f4aa74f19}{S\+Y\+S\+C\+A\+L\+L} (\hyperlink{src_2syscall_2readdir_8c_a46fbf74e1730b06f865fe6e0dba03a61}{sys\+\_\+readdir}, 80)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{task_8h_a8aeef2cdb643462b97cd459a8e68cad3}{task\+\_\+t} $\ast$ \hyperlink{src_2syscall_2readdir_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\+\_\+task}
\begin{DoxyCompactList}\small\item\em Current task address. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{src_2syscall_2readdir_8c_a46fbf74e1730b06f865fe6e0dba03a61}{\index{src/syscall/readdir.\+c@{src/syscall/readdir.\+c}!sys\+\_\+readdir@{sys\+\_\+readdir}}
\index{sys\+\_\+readdir@{sys\+\_\+readdir}!src/syscall/readdir.\+c@{src/syscall/readdir.\+c}}
\subsubsection[{sys\+\_\+readdir}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf dirent}$\ast$ sys\+\_\+readdir (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{int}]{position}
\end{DoxyParamCaption}
)}}\label{src_2syscall_2readdir_8c_a46fbf74e1730b06f865fe6e0dba03a61}


Definition at line 9 of file readdir.\+c.



References errno, task\+::fd, and fs\+\_\+readdir().


\begin{DoxyCode}
9                                                  \{
10     \textcolor{keywordflow}{if}(!\hyperlink{src_2syscall_2readdir_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\_task})
11         \textcolor{keywordflow}{return} NULL;
12         
13     
14     \hyperlink{structinode}{inode\_t}* ino = \hyperlink{src_2syscall_2readdir_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\_task}->\hyperlink{structtask_afeeb6bafaefe505e6a730dd4e0be5a1a}{fd}[fd];
15     \textcolor{keywordflow}{if}(!ino) \{
16         \hyperlink{errno_8c_ad65a8842cc674e3ddf69355898c0ecbf}{errno} = EBADF;
17         \textcolor{keywordflow}{return} NULL;
18     \}
19 
20 
21     \textcolor{keywordflow}{return} (\textcolor{keyword}{struct} \hyperlink{structdirent}{dirent}*) \hyperlink{fs_8c_af6320f9253c5bd1f298876fdbe41b9de}{fs\_readdir}(ino, position);
22 \}
\end{DoxyCode}
\hypertarget{src_2syscall_2readdir_8c_a33e160890354903b1195af9f4aa74f19}{\index{src/syscall/readdir.\+c@{src/syscall/readdir.\+c}!S\+Y\+S\+C\+A\+L\+L@{S\+Y\+S\+C\+A\+L\+L}}
\index{S\+Y\+S\+C\+A\+L\+L@{S\+Y\+S\+C\+A\+L\+L}!src/syscall/readdir.\+c@{src/syscall/readdir.\+c}}
\subsubsection[{S\+Y\+S\+C\+A\+L\+L}]{\setlength{\rightskip}{0pt plus 5cm}S\+Y\+S\+C\+A\+L\+L (
\begin{DoxyParamCaption}
\item[{{\bf sys\+\_\+readdir}}]{, }
\item[{80}]{}
\end{DoxyParamCaption}
)}}\label{src_2syscall_2readdir_8c_a33e160890354903b1195af9f4aa74f19}


\subsection{Variable Documentation}
\hypertarget{src_2syscall_2readdir_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{\index{src/syscall/readdir.\+c@{src/syscall/readdir.\+c}!current\+\_\+task@{current\+\_\+task}}
\index{current\+\_\+task@{current\+\_\+task}!src/syscall/readdir.\+c@{src/syscall/readdir.\+c}}
\subsubsection[{current\+\_\+task}]{\setlength{\rightskip}{0pt plus 5cm}{\bf task\+\_\+t}$\ast$ current\+\_\+task}}\label{src_2syscall_2readdir_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}


Current task address. 



Definition at line 35 of file sched.\+c.

