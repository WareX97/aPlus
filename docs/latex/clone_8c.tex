\hypertarget{clone_8c}{\section{Riferimenti per il file src/syscall/clone.c}
\label{clone_8c}\index{src/syscall/clone.\+c@{src/syscall/clone.\+c}}
}
{\ttfamily \#include $<$aplus.\+h$>$}\\*
{\ttfamily \#include $<$aplus/syscall.\+h$>$}\\*
{\ttfamily \#include $<$aplus/task.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{clone_8c_a14a069ba6b991078484ac2b7573a5f23}{sys\+\_\+clone} (int($\ast$fn)(void $\ast$), void $\ast$child\+\_\+stack, int flags, void $\ast$arg)
\item 
\hyperlink{clone_8c_adeb0bff3f02079d3e65a1229d6161490}{S\+Y\+S\+C\+A\+L\+L} (\hyperlink{clone_8c_a14a069ba6b991078484ac2b7573a5f23}{sys\+\_\+clone}, 22)
\end{DoxyCompactItemize}
\subsection*{Variabili}
\begin{DoxyCompactItemize}
\item 
\hyperlink{task_8h_a8aeef2cdb643462b97cd459a8e68cad3}{task\+\_\+t} $\ast$ \hyperlink{clone_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\+\_\+task}
\end{DoxyCompactItemize}


\subsection{Documentazione delle funzioni}
\hypertarget{clone_8c_a14a069ba6b991078484ac2b7573a5f23}{\index{clone.\+c@{clone.\+c}!sys\+\_\+clone@{sys\+\_\+clone}}
\index{sys\+\_\+clone@{sys\+\_\+clone}!clone.\+c@{clone.\+c}}
\subsubsection[{sys\+\_\+clone}]{\setlength{\rightskip}{0pt plus 5cm}int sys\+\_\+clone (
\begin{DoxyParamCaption}
\item[{int($\ast$)(void $\ast$)}]{fn, }
\item[{void $\ast$}]{child\+\_\+stack, }
\item[{int}]{flags, }
\item[{void $\ast$}]{arg}
\end{DoxyParamCaption}
)}}\label{clone_8c_a14a069ba6b991078484ac2b7573a5f23}


Definizione alla linea 8 del file clone.\+c.



Referenzia errno, task\+::pid, e task\+\_\+clone().


\begin{DoxyCode}
8                                                                          \{
9     \textcolor{keywordflow}{if}(!\hyperlink{clone_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\_task})
10         \textcolor{keywordflow}{return} -1;
11     
12     \textcolor{keywordflow}{if}(fn == NULL) \{
13         \hyperlink{errno_8c_ad65a8842cc674e3ddf69355898c0ecbf}{errno} = EINVAL;
14         \textcolor{keywordflow}{return} -1;
15     \}
16 
17 
18     \hyperlink{structtask}{task\_t}* child = (\hyperlink{structtask}{task\_t}*) \hyperlink{task_8c_aa274b7334aace961395fdb788126712d}{task\_clone}(fn, arg, child\_stack);
19     \textcolor{keywordflow}{if}(!child) \{
20         \hyperlink{errno_8c_ad65a8842cc674e3ddf69355898c0ecbf}{errno} = EFAULT;
21         \textcolor{keywordflow}{return} -1;
22     \}
23 
24     \textcolor{keywordflow}{return} child->\hyperlink{structtask_ab56448ae42a75825ea923bd86648f3ae}{pid};
25 \}
\end{DoxyCode}
\hypertarget{clone_8c_adeb0bff3f02079d3e65a1229d6161490}{\index{clone.\+c@{clone.\+c}!S\+Y\+S\+C\+A\+L\+L@{S\+Y\+S\+C\+A\+L\+L}}
\index{S\+Y\+S\+C\+A\+L\+L@{S\+Y\+S\+C\+A\+L\+L}!clone.\+c@{clone.\+c}}
\subsubsection[{S\+Y\+S\+C\+A\+L\+L}]{\setlength{\rightskip}{0pt plus 5cm}S\+Y\+S\+C\+A\+L\+L (
\begin{DoxyParamCaption}
\item[{{\bf sys\+\_\+clone}}]{, }
\item[{22}]{}
\end{DoxyParamCaption}
)}}\label{clone_8c_adeb0bff3f02079d3e65a1229d6161490}


\subsection{Documentazione delle variabili}
\hypertarget{clone_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{\index{clone.\+c@{clone.\+c}!current\+\_\+task@{current\+\_\+task}}
\index{current\+\_\+task@{current\+\_\+task}!clone.\+c@{clone.\+c}}
\subsubsection[{current\+\_\+task}]{\setlength{\rightskip}{0pt plus 5cm}{\bf task\+\_\+t}$\ast$ current\+\_\+task}}\label{clone_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}


Definizione alla linea 33 del file sched.\+c.

