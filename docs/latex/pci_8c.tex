\hypertarget{pci_8c}{\section{Riferimenti per il file src/arch/pci.c}
\label{pci_8c}\index{src/arch/pci.\+c@{src/arch/pci.\+c}}
}
{\ttfamily \#include $<$aplus.\+h$>$}\\*
{\ttfamily \#include $<$aplus/pci.\+h$>$}\\*
{\ttfamily \#include $<$aplus/mm.\+h$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
\subsection*{Definizioni}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{pci_8c_aaa58db8af2d00af66c78624104e1016b}{P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+A\+D\+D\+R\+E\+S\+S}~0x0\+C\+F8
\item 
\#define \hyperlink{pci_8c_ad1fedcf5fe37518ccc1ddfcb880d1b01}{P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+D\+A\+T\+A}~0x0\+C\+F\+C
\item 
\#define \hyperlink{pci_8c_ac92b961e4ae0fbfdb814592b74fa3229}{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+S}~65536
\item 
\#define \hyperlink{pci_8c_acbd6d3799929b7d4f20ba7ca9c7a273b}{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+B\+U\+S}~255
\item 
\#define \hyperlink{pci_8c_ab4541880e38c018ddbf49bb81e3b01f2}{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V}~32
\item 
\#define \hyperlink{pci_8c_a2bce7569c5c260ac10180736ab9b682e}{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+F\+U\+N\+C}~8
\end{DoxyCompactItemize}
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
static int \hyperlink{pci_8c_a1f15494ac7091ae892b6fc408c999699}{pci\+\_\+get\+\_\+address} (\hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\+\_\+t} bus, \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\+\_\+t} dev, \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\+\_\+t} func, \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\+\_\+t} \hyperlink{ipv4_8h_ac681806181c80437cfab37335f62ff39}{offset})
\item 
static \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{pci_8c_af20e26337824fd3df0f10cf0230fa35d}{pci\+\_\+config\+\_\+read} (\hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\+\_\+t} bus, \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\+\_\+t} dev, \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\+\_\+t} func, \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\+\_\+t} \hyperlink{ipv4_8h_ac681806181c80437cfab37335f62ff39}{offset})
\item 
static \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{pci_8c_a02860d0ea7db7586ef23e70dbc430f4e}{pci\+\_\+get\+\_\+device\+\_\+id} (\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$device)
\item 
static \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{pci_8c_a8943deffb283d480c4721e9504363db9}{pci\+\_\+get\+\_\+vendor\+\_\+id} (\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$device)
\item 
static \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{pci_8c_a35471c72465a2387209cd9f8c61cbabf}{pci\+\_\+get\+\_\+intr\+\_\+pin} (\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$device)
\item 
static \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{pci_8c_a5748eddc8acf29743a4645494086bfe8}{pci\+\_\+get\+\_\+intr\+\_\+line} (\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$device)
\item 
static \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{pci_8c_aaaed0e6f955935cd6436ddaf221c74dd}{pci\+\_\+get\+\_\+revision} (\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$device)
\item 
static \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{pci_8c_a0bf83fd9b109cd41e61258f3e53208d1}{pci\+\_\+get\+\_\+class} (\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$device)
\item 
static \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{pci_8c_aa37c8495a1905ebd6ffcc66b84954cb0}{pci\+\_\+get\+\_\+header\+\_\+type} (\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$device)
\item 
static \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{pci_8c_a92f6eec12aecf89f39763ac81d228baa}{pci\+\_\+get\+\_\+bar} (\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$device, \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\+\_\+t} bar)
\item 
static \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{pci_8c_a68ef7c33e8d461fff6df3e147d8dfd7a}{pci\+\_\+get\+\_\+iobase} (\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$device)
\item 
static \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{pci_8c_aa6863ddfaf14fac909640bfa31bbbc4a}{pci\+\_\+get\+\_\+membase} (\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$device)
\item 
static void \hyperlink{pci_8c_af7ca9409f4548bab8e35404085f62a6b}{pci\+\_\+load\+\_\+device} (\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$device, \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\+\_\+t} bus, \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\+\_\+t} dev, \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\+\_\+t} func)
\item 
\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$ \hyperlink{pci_8c_abca1ff85a7e4d518a83cc17348aa39cb}{pci\+\_\+find\+\_\+by\+\_\+id} (\hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} vendor\+I\+D, \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} device\+I\+D)
\item 
int \hyperlink{pci_8c_a127a79107e9fe2fee41f36dd3d88afca}{pci\+\_\+find\+\_\+by\+\_\+class} (\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$$\ast$rdevs, \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} class, \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\+\_\+t} \hyperlink{udp_8h_a1892eba2086d12ac2b09005aeb09ea3b}{length})
\item 
int \hyperlink{pci_8c_a5c450b9e2534226b162a16de0ef6b434}{pci\+\_\+init} ()
\end{DoxyCompactItemize}
\subsection*{Variabili}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pci_8h_ab3c98ba0de1f963ef2f46200b090815b}{pci\+\_\+device\+\_\+t} $\ast$ \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\+\_\+devices} = N\+U\+L\+L
\end{DoxyCompactItemize}


\subsection{Documentazione delle definizioni}
\hypertarget{pci_8c_aaa58db8af2d00af66c78624104e1016b}{\index{pci.\+c@{pci.\+c}!P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+A\+D\+D\+R\+E\+S\+S@{P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+A\+D\+D\+R\+E\+S\+S}}
\index{P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+A\+D\+D\+R\+E\+S\+S@{P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+A\+D\+D\+R\+E\+S\+S}!pci.\+c@{pci.\+c}}
\subsubsection[{P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+A\+D\+D\+R\+E\+S\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+A\+D\+D\+R\+E\+S\+S~0x0\+C\+F8}}\label{pci_8c_aaa58db8af2d00af66c78624104e1016b}


Definizione alla linea 11 del file pci.\+c.

\hypertarget{pci_8c_ad1fedcf5fe37518ccc1ddfcb880d1b01}{\index{pci.\+c@{pci.\+c}!P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+D\+A\+T\+A@{P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+D\+A\+T\+A}}
\index{P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+D\+A\+T\+A@{P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+D\+A\+T\+A}!pci.\+c@{pci.\+c}}
\subsubsection[{P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+D\+A\+T\+A}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+D\+A\+T\+A~0x0\+C\+F\+C}}\label{pci_8c_ad1fedcf5fe37518ccc1ddfcb880d1b01}


Definizione alla linea 12 del file pci.\+c.

\hypertarget{pci_8c_acbd6d3799929b7d4f20ba7ca9c7a273b}{\index{pci.\+c@{pci.\+c}!P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+B\+U\+S@{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+B\+U\+S}}
\index{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+B\+U\+S@{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+B\+U\+S}!pci.\+c@{pci.\+c}}
\subsubsection[{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+B\+U\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+B\+U\+S~255}}\label{pci_8c_acbd6d3799929b7d4f20ba7ca9c7a273b}


Definizione alla linea 14 del file pci.\+c.

\hypertarget{pci_8c_ab4541880e38c018ddbf49bb81e3b01f2}{\index{pci.\+c@{pci.\+c}!P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V@{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V}}
\index{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V@{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V}!pci.\+c@{pci.\+c}}
\subsubsection[{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V~32}}\label{pci_8c_ab4541880e38c018ddbf49bb81e3b01f2}


Definizione alla linea 15 del file pci.\+c.

\hypertarget{pci_8c_ac92b961e4ae0fbfdb814592b74fa3229}{\index{pci.\+c@{pci.\+c}!P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+S@{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+S}}
\index{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+S@{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+S}!pci.\+c@{pci.\+c}}
\subsubsection[{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+S~65536}}\label{pci_8c_ac92b961e4ae0fbfdb814592b74fa3229}


Definizione alla linea 13 del file pci.\+c.

\hypertarget{pci_8c_a2bce7569c5c260ac10180736ab9b682e}{\index{pci.\+c@{pci.\+c}!P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+F\+U\+N\+C@{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+F\+U\+N\+C}}
\index{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+F\+U\+N\+C@{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+F\+U\+N\+C}!pci.\+c@{pci.\+c}}
\subsubsection[{P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+F\+U\+N\+C}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+F\+U\+N\+C~8}}\label{pci_8c_a2bce7569c5c260ac10180736ab9b682e}


Definizione alla linea 16 del file pci.\+c.



\subsection{Documentazione delle funzioni}
\hypertarget{pci_8c_af20e26337824fd3df0f10cf0230fa35d}{\index{pci.\+c@{pci.\+c}!pci\+\_\+config\+\_\+read@{pci\+\_\+config\+\_\+read}}
\index{pci\+\_\+config\+\_\+read@{pci\+\_\+config\+\_\+read}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+config\+\_\+read}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\+\_\+t} pci\+\_\+config\+\_\+read (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t}}]{bus, }
\item[{{\bf uint8\+\_\+t}}]{dev, }
\item[{{\bf uint8\+\_\+t}}]{func, }
\item[{{\bf uint8\+\_\+t}}]{offset}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_af20e26337824fd3df0f10cf0230fa35d}


Definizione alla linea 26 del file pci.\+c.



Referenzia P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+A\+D\+D\+R\+E\+S\+S, P\+C\+I\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+D\+A\+T\+A, e pci\+\_\+get\+\_\+address().


\begin{DoxyCode}
26                                                                                         \{
27     outl(\hyperlink{pci_8c_aaa58db8af2d00af66c78624104e1016b}{PCI\_CONFIG\_ADDRESS}, \hyperlink{pci_8c_a1f15494ac7091ae892b6fc408c999699}{pci\_get\_address}(bus, dev, func, 
      \hyperlink{ipv4_8h_ac681806181c80437cfab37335f62ff39}{offset}));
28     
29     \textcolor{keywordflow}{if}(\hyperlink{ipv4_8h_ac681806181c80437cfab37335f62ff39}{offset} % 4 == 0)
30         \textcolor{keywordflow}{return} inl(\hyperlink{pci_8c_ad1fedcf5fe37518ccc1ddfcb880d1b01}{PCI\_CONFIG\_DATA});
31 
32     \textcolor{keywordflow}{return} (inl(\hyperlink{pci_8c_ad1fedcf5fe37518ccc1ddfcb880d1b01}{PCI\_CONFIG\_DATA}) >> ((\hyperlink{ipv4_8h_ac681806181c80437cfab37335f62ff39}{offset} % 4) * 8));
33 \}
\end{DoxyCode}
\hypertarget{pci_8c_a127a79107e9fe2fee41f36dd3d88afca}{\index{pci.\+c@{pci.\+c}!pci\+\_\+find\+\_\+by\+\_\+class@{pci\+\_\+find\+\_\+by\+\_\+class}}
\index{pci\+\_\+find\+\_\+by\+\_\+class@{pci\+\_\+find\+\_\+by\+\_\+class}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+find\+\_\+by\+\_\+class}]{\setlength{\rightskip}{0pt plus 5cm}int pci\+\_\+find\+\_\+by\+\_\+class (
\begin{DoxyParamCaption}
\item[{{\bf pci\+\_\+device\+\_\+t} $\ast$$\ast$}]{rdevs, }
\item[{{\bf uint32\+\_\+t}}]{class, }
\item[{{\bf uint32\+\_\+t}}]{length}
\end{DoxyParamCaption}
)}}\label{pci_8c_a127a79107e9fe2fee41f36dd3d88afca}


Definizione alla linea 131 del file pci.\+c.



Referenzia length, e P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+S.


\begin{DoxyCode}
131                                                                              \{
132     \textcolor{keywordtype}{int} j = 0;  
133     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \hyperlink{pci_8c_ac92b961e4ae0fbfdb814592b74fa3229}{PCI\_MAX\_DEVICES} && j < \hyperlink{ipv4_8h_a1892eba2086d12ac2b09005aeb09ea3b}{length}; i++) \{
134         \textcolor{keywordflow}{if}(\hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].pci\_class != \textcolor{keyword}{class})
135             \textcolor{keywordflow}{continue};
136 
137         rdevs[j++] = &\hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i];
138     \}
139 
140     \textcolor{keywordflow}{return} j;
141 \}
\end{DoxyCode}
\hypertarget{pci_8c_abca1ff85a7e4d518a83cc17348aa39cb}{\index{pci.\+c@{pci.\+c}!pci\+\_\+find\+\_\+by\+\_\+id@{pci\+\_\+find\+\_\+by\+\_\+id}}
\index{pci\+\_\+find\+\_\+by\+\_\+id@{pci\+\_\+find\+\_\+by\+\_\+id}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+find\+\_\+by\+\_\+id}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pci\+\_\+device\+\_\+t}$\ast$ pci\+\_\+find\+\_\+by\+\_\+id (
\begin{DoxyParamCaption}
\item[{{\bf uint32\+\_\+t}}]{vendor\+I\+D, }
\item[{{\bf uint32\+\_\+t}}]{device\+I\+D}
\end{DoxyParamCaption}
)}}\label{pci_8c_abca1ff85a7e4d518a83cc17348aa39cb}


Definizione alla linea 120 del file pci.\+c.



Referenzia P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+S.


\begin{DoxyCode}
120                                                                    \{
121     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \hyperlink{pci_8c_ac92b961e4ae0fbfdb814592b74fa3229}{PCI\_MAX\_DEVICES}; i++) \{
122         \textcolor{keywordflow}{if}(\hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].vendorID != vendorID && \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].deviceID != deviceID
      )
123             \textcolor{keywordflow}{continue};
124 
125         \textcolor{keywordflow}{return} &\hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i];
126     \}
127 
128     \textcolor{keywordflow}{return} NULL;
129 \}
\end{DoxyCode}
\hypertarget{pci_8c_a1f15494ac7091ae892b6fc408c999699}{\index{pci.\+c@{pci.\+c}!pci\+\_\+get\+\_\+address@{pci\+\_\+get\+\_\+address}}
\index{pci\+\_\+get\+\_\+address@{pci\+\_\+get\+\_\+address}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+get\+\_\+address}]{\setlength{\rightskip}{0pt plus 5cm}static int pci\+\_\+get\+\_\+address (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t}}]{bus, }
\item[{{\bf uint8\+\_\+t}}]{dev, }
\item[{{\bf uint8\+\_\+t}}]{func, }
\item[{{\bf uint8\+\_\+t}}]{offset}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_a1f15494ac7091ae892b6fc408c999699}


Definizione alla linea 22 del file pci.\+c.


\begin{DoxyCode}
22                                                                                    \{
23     \textcolor{keywordflow}{return} 0x80000000 | (bus << 16) | (dev << 11) | (func << 8) | (\hyperlink{ipv4_8h_ac681806181c80437cfab37335f62ff39}{offset} & 0xFC);
24 \}
\end{DoxyCode}
\hypertarget{pci_8c_a92f6eec12aecf89f39763ac81d228baa}{\index{pci.\+c@{pci.\+c}!pci\+\_\+get\+\_\+bar@{pci\+\_\+get\+\_\+bar}}
\index{pci\+\_\+get\+\_\+bar@{pci\+\_\+get\+\_\+bar}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+get\+\_\+bar}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\+\_\+t} pci\+\_\+get\+\_\+bar (
\begin{DoxyParamCaption}
\item[{{\bf pci\+\_\+device\+\_\+t} $\ast$}]{device, }
\item[{{\bf uint8\+\_\+t}}]{bar}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_a92f6eec12aecf89f39763ac81d228baa}


Definizione alla linea 65 del file pci.\+c.



Referenzia pci\+\_\+device\+::bus, pci\+\_\+device\+::dev, pci\+\_\+device\+::func, pci\+\_\+config\+\_\+read(), pci\+\_\+get\+\_\+header\+\_\+type(), e uint8\+\_\+t.


\begin{DoxyCode}
65                                                                \{
66     \textcolor{keywordflow}{if}(bar >= 6)
67         \textcolor{keywordflow}{return} 0;
68 
69     \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\_t} header = \hyperlink{pci_8c_aa37c8495a1905ebd6ffcc66b84954cb0}{pci\_get\_header\_type}(device);
70     \textcolor{keywordflow}{if}(header == 0x02 || (header == 0x01 && bar < 2))
71         \textcolor{keywordflow}{return} 0;
72 
73     \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\_t} reg = 0x10 + (0x04 * bar);
74     \textcolor{keywordflow}{return} \hyperlink{pci_8c_af20e26337824fd3df0f10cf0230fa35d}{pci\_config\_read}(device->\hyperlink{structpci__device_a832940e219d52a08725a39fc97663d07}{bus}, device->\hyperlink{structpci__device_ae456e0d5fb85c5d367b1a4e27f996b96}{dev}, device->
      \hyperlink{structpci__device_ac292358b1097064cb388125a45740aff}{func}, reg);
75 \}
\end{DoxyCode}
\hypertarget{pci_8c_a0bf83fd9b109cd41e61258f3e53208d1}{\index{pci.\+c@{pci.\+c}!pci\+\_\+get\+\_\+class@{pci\+\_\+get\+\_\+class}}
\index{pci\+\_\+get\+\_\+class@{pci\+\_\+get\+\_\+class}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+get\+\_\+class}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\+\_\+t} pci\+\_\+get\+\_\+class (
\begin{DoxyParamCaption}
\item[{{\bf pci\+\_\+device\+\_\+t} $\ast$}]{device}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_a0bf83fd9b109cd41e61258f3e53208d1}


Definizione alla linea 56 del file pci.\+c.



Referenzia pci\+\_\+device\+::bus, pci\+\_\+device\+::dev, pci\+\_\+device\+::func, e pci\+\_\+config\+\_\+read().


\begin{DoxyCode}
56                                                     \{
57     \textcolor{keywordflow}{return} \hyperlink{pci_8c_af20e26337824fd3df0f10cf0230fa35d}{pci\_config\_read}(device->\hyperlink{structpci__device_a832940e219d52a08725a39fc97663d07}{bus}, device->\hyperlink{structpci__device_ae456e0d5fb85c5d367b1a4e27f996b96}{dev}, device->
      \hyperlink{structpci__device_ac292358b1097064cb388125a45740aff}{func}, 0x0B) & 0xFF;
58 \}
\end{DoxyCode}
\hypertarget{pci_8c_a02860d0ea7db7586ef23e70dbc430f4e}{\index{pci.\+c@{pci.\+c}!pci\+\_\+get\+\_\+device\+\_\+id@{pci\+\_\+get\+\_\+device\+\_\+id}}
\index{pci\+\_\+get\+\_\+device\+\_\+id@{pci\+\_\+get\+\_\+device\+\_\+id}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+get\+\_\+device\+\_\+id}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\+\_\+t} pci\+\_\+get\+\_\+device\+\_\+id (
\begin{DoxyParamCaption}
\item[{{\bf pci\+\_\+device\+\_\+t} $\ast$}]{device}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_a02860d0ea7db7586ef23e70dbc430f4e}


Definizione alla linea 36 del file pci.\+c.



Referenzia pci\+\_\+device\+::bus, pci\+\_\+device\+::dev, pci\+\_\+device\+::func, e pci\+\_\+config\+\_\+read().


\begin{DoxyCode}
36                                                         \{
37     \textcolor{keywordflow}{return} \hyperlink{pci_8c_af20e26337824fd3df0f10cf0230fa35d}{pci\_config\_read}(device->\hyperlink{structpci__device_a832940e219d52a08725a39fc97663d07}{bus}, device->\hyperlink{structpci__device_ae456e0d5fb85c5d367b1a4e27f996b96}{dev}, device->
      \hyperlink{structpci__device_ac292358b1097064cb388125a45740aff}{func}, 2) & 0xFFFF;
38 \}
\end{DoxyCode}
\hypertarget{pci_8c_aa37c8495a1905ebd6ffcc66b84954cb0}{\index{pci.\+c@{pci.\+c}!pci\+\_\+get\+\_\+header\+\_\+type@{pci\+\_\+get\+\_\+header\+\_\+type}}
\index{pci\+\_\+get\+\_\+header\+\_\+type@{pci\+\_\+get\+\_\+header\+\_\+type}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+get\+\_\+header\+\_\+type}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\+\_\+t} pci\+\_\+get\+\_\+header\+\_\+type (
\begin{DoxyParamCaption}
\item[{{\bf pci\+\_\+device\+\_\+t} $\ast$}]{device}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_aa37c8495a1905ebd6ffcc66b84954cb0}


Definizione alla linea 60 del file pci.\+c.



Referenzia pci\+\_\+device\+::bus, pci\+\_\+device\+::dev, pci\+\_\+device\+::func, e pci\+\_\+config\+\_\+read().


\begin{DoxyCode}
60                                                           \{
61     \textcolor{keywordflow}{return} \hyperlink{pci_8c_af20e26337824fd3df0f10cf0230fa35d}{pci\_config\_read}(device->\hyperlink{structpci__device_a832940e219d52a08725a39fc97663d07}{bus}, device->\hyperlink{structpci__device_ae456e0d5fb85c5d367b1a4e27f996b96}{dev}, device->
      \hyperlink{structpci__device_ac292358b1097064cb388125a45740aff}{func}, 0x0E) & 0x7F;
62 \}
\end{DoxyCode}
\hypertarget{pci_8c_a5748eddc8acf29743a4645494086bfe8}{\index{pci.\+c@{pci.\+c}!pci\+\_\+get\+\_\+intr\+\_\+line@{pci\+\_\+get\+\_\+intr\+\_\+line}}
\index{pci\+\_\+get\+\_\+intr\+\_\+line@{pci\+\_\+get\+\_\+intr\+\_\+line}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+get\+\_\+intr\+\_\+line}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\+\_\+t} pci\+\_\+get\+\_\+intr\+\_\+line (
\begin{DoxyParamCaption}
\item[{{\bf pci\+\_\+device\+\_\+t} $\ast$}]{device}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_a5748eddc8acf29743a4645494086bfe8}


Definizione alla linea 48 del file pci.\+c.



Referenzia pci\+\_\+device\+::bus, pci\+\_\+device\+::dev, pci\+\_\+device\+::func, e pci\+\_\+config\+\_\+read().


\begin{DoxyCode}
48                                                         \{
49     \textcolor{keywordflow}{return} \hyperlink{pci_8c_af20e26337824fd3df0f10cf0230fa35d}{pci\_config\_read}(device->\hyperlink{structpci__device_a832940e219d52a08725a39fc97663d07}{bus}, device->\hyperlink{structpci__device_ae456e0d5fb85c5d367b1a4e27f996b96}{dev}, device->
      \hyperlink{structpci__device_ac292358b1097064cb388125a45740aff}{func}, 0x3C) & 0xFF;
50 \}
\end{DoxyCode}
\hypertarget{pci_8c_a35471c72465a2387209cd9f8c61cbabf}{\index{pci.\+c@{pci.\+c}!pci\+\_\+get\+\_\+intr\+\_\+pin@{pci\+\_\+get\+\_\+intr\+\_\+pin}}
\index{pci\+\_\+get\+\_\+intr\+\_\+pin@{pci\+\_\+get\+\_\+intr\+\_\+pin}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+get\+\_\+intr\+\_\+pin}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\+\_\+t} pci\+\_\+get\+\_\+intr\+\_\+pin (
\begin{DoxyParamCaption}
\item[{{\bf pci\+\_\+device\+\_\+t} $\ast$}]{device}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_a35471c72465a2387209cd9f8c61cbabf}


Definizione alla linea 44 del file pci.\+c.



Referenzia pci\+\_\+device\+::bus, pci\+\_\+device\+::dev, pci\+\_\+device\+::func, e pci\+\_\+config\+\_\+read().


\begin{DoxyCode}
44                                                        \{
45     \textcolor{keywordflow}{return} \hyperlink{pci_8c_af20e26337824fd3df0f10cf0230fa35d}{pci\_config\_read}(device->\hyperlink{structpci__device_a832940e219d52a08725a39fc97663d07}{bus}, device->\hyperlink{structpci__device_ae456e0d5fb85c5d367b1a4e27f996b96}{dev}, device->
      \hyperlink{structpci__device_ac292358b1097064cb388125a45740aff}{func}, 0x3D) & 0xFF;
46 \}
\end{DoxyCode}
\hypertarget{pci_8c_a68ef7c33e8d461fff6df3e147d8dfd7a}{\index{pci.\+c@{pci.\+c}!pci\+\_\+get\+\_\+iobase@{pci\+\_\+get\+\_\+iobase}}
\index{pci\+\_\+get\+\_\+iobase@{pci\+\_\+get\+\_\+iobase}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+get\+\_\+iobase}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\+\_\+t} pci\+\_\+get\+\_\+iobase (
\begin{DoxyParamCaption}
\item[{{\bf pci\+\_\+device\+\_\+t} $\ast$}]{device}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_a68ef7c33e8d461fff6df3e147d8dfd7a}


Definizione alla linea 77 del file pci.\+c.



Referenzia pci\+\_\+get\+\_\+bar(), pci\+\_\+get\+\_\+header\+\_\+type(), uint32\+\_\+t, e uint8\+\_\+t.


\begin{DoxyCode}
77                                                      \{
78     \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\_t} bars = 6 - \hyperlink{pci_8c_aa37c8495a1905ebd6ffcc66b84954cb0}{pci\_get\_header\_type}(device) * 4;
79     \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\_t} i = 0;
80 
81     \textcolor{keywordflow}{while}(i < bars) \{
82         \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\_t} bar = \hyperlink{pci_8c_a92f6eec12aecf89f39763ac81d228baa}{pci\_get\_bar}(device, i++);
83         \textcolor{keywordflow}{if}(bar & 0x01)
84             \textcolor{keywordflow}{return} bar & 0xFFFFFFFC;
85     \}
86 
87     \textcolor{keywordflow}{return} 0;
88 \}
\end{DoxyCode}
\hypertarget{pci_8c_aa6863ddfaf14fac909640bfa31bbbc4a}{\index{pci.\+c@{pci.\+c}!pci\+\_\+get\+\_\+membase@{pci\+\_\+get\+\_\+membase}}
\index{pci\+\_\+get\+\_\+membase@{pci\+\_\+get\+\_\+membase}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+get\+\_\+membase}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\+\_\+t} pci\+\_\+get\+\_\+membase (
\begin{DoxyParamCaption}
\item[{{\bf pci\+\_\+device\+\_\+t} $\ast$}]{device}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_aa6863ddfaf14fac909640bfa31bbbc4a}


Definizione alla linea 90 del file pci.\+c.



Referenzia pci\+\_\+get\+\_\+bar(), pci\+\_\+get\+\_\+header\+\_\+type(), uint32\+\_\+t, e uint8\+\_\+t.


\begin{DoxyCode}
90                                                       \{
91     \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\_t} bars = 6 - \hyperlink{pci_8c_aa37c8495a1905ebd6ffcc66b84954cb0}{pci\_get\_header\_type}(device) * 4;
92     \hyperlink{aplus_8h_ae0430369c5a35dcdbc0bc19dcbb33a03}{uint8\_t} i = 0;
93 
94     \textcolor{keywordflow}{while}(i < bars) \{
95         \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\_t} bar = \hyperlink{pci_8c_a92f6eec12aecf89f39763ac81d228baa}{pci\_get\_bar}(device, i++);
96         \textcolor{keywordflow}{if}((bar & 0x01) == 0)
97             \textcolor{keywordflow}{return} bar & 0xFFFFFFF0;
98     \}
99 
100     \textcolor{keywordflow}{return} 0;
101 \}
\end{DoxyCode}
\hypertarget{pci_8c_aaaed0e6f955935cd6436ddaf221c74dd}{\index{pci.\+c@{pci.\+c}!pci\+\_\+get\+\_\+revision@{pci\+\_\+get\+\_\+revision}}
\index{pci\+\_\+get\+\_\+revision@{pci\+\_\+get\+\_\+revision}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+get\+\_\+revision}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\+\_\+t} pci\+\_\+get\+\_\+revision (
\begin{DoxyParamCaption}
\item[{{\bf pci\+\_\+device\+\_\+t} $\ast$}]{device}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_aaaed0e6f955935cd6436ddaf221c74dd}


Definizione alla linea 52 del file pci.\+c.



Referenzia pci\+\_\+device\+::bus, pci\+\_\+device\+::dev, pci\+\_\+device\+::func, e pci\+\_\+config\+\_\+read().


\begin{DoxyCode}
52                                                        \{
53     \textcolor{keywordflow}{return} \hyperlink{pci_8c_af20e26337824fd3df0f10cf0230fa35d}{pci\_config\_read}(device->\hyperlink{structpci__device_a832940e219d52a08725a39fc97663d07}{bus}, device->\hyperlink{structpci__device_ae456e0d5fb85c5d367b1a4e27f996b96}{dev}, device->
      \hyperlink{structpci__device_ac292358b1097064cb388125a45740aff}{func}, 0x08) & 0xFF;
54 \}
\end{DoxyCode}
\hypertarget{pci_8c_a8943deffb283d480c4721e9504363db9}{\index{pci.\+c@{pci.\+c}!pci\+\_\+get\+\_\+vendor\+\_\+id@{pci\+\_\+get\+\_\+vendor\+\_\+id}}
\index{pci\+\_\+get\+\_\+vendor\+\_\+id@{pci\+\_\+get\+\_\+vendor\+\_\+id}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+get\+\_\+vendor\+\_\+id}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\+\_\+t} pci\+\_\+get\+\_\+vendor\+\_\+id (
\begin{DoxyParamCaption}
\item[{{\bf pci\+\_\+device\+\_\+t} $\ast$}]{device}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_a8943deffb283d480c4721e9504363db9}


Definizione alla linea 40 del file pci.\+c.



Referenzia pci\+\_\+device\+::bus, pci\+\_\+device\+::dev, pci\+\_\+device\+::func, e pci\+\_\+config\+\_\+read().


\begin{DoxyCode}
40                                                         \{
41     \textcolor{keywordflow}{return} \hyperlink{pci_8c_af20e26337824fd3df0f10cf0230fa35d}{pci\_config\_read}(device->\hyperlink{structpci__device_a832940e219d52a08725a39fc97663d07}{bus}, device->\hyperlink{structpci__device_ae456e0d5fb85c5d367b1a4e27f996b96}{dev}, device->
      \hyperlink{structpci__device_ac292358b1097064cb388125a45740aff}{func}, 0) & 0xFFFF;
42 \}
\end{DoxyCode}
\hypertarget{pci_8c_a5c450b9e2534226b162a16de0ef6b434}{\index{pci.\+c@{pci.\+c}!pci\+\_\+init@{pci\+\_\+init}}
\index{pci\+\_\+init@{pci\+\_\+init}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}int pci\+\_\+init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{pci_8c_a5c450b9e2534226b162a16de0ef6b434}


Definizione alla linea 144 del file pci.\+c.



Referenzia kmalloc(), kprintf, pci\+\_\+config\+\_\+read(), pci\+\_\+load\+\_\+device(), P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+B\+U\+S, P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V, P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+S, P\+C\+I\+\_\+\+M\+A\+X\+\_\+\+F\+U\+N\+C, e uint32\+\_\+t.


\begin{DoxyCode}
144                \{
145     \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices} = (\hyperlink{structpci__device}{pci\_device\_t}*) \hyperlink{mm_8h_a1f5d4240b2decc62c0e6eae06c72916c}{kmalloc}(
      \hyperlink{pci_8c_ac92b961e4ae0fbfdb814592b74fa3229}{PCI\_MAX\_DEVICES} * \textcolor{keyword}{sizeof}(\hyperlink{structpci__device}{pci\_device\_t}));
146     memset(\hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}, 0xFF, \hyperlink{pci_8c_ac92b961e4ae0fbfdb814592b74fa3229}{PCI\_MAX\_DEVICES} * \textcolor{keyword}{sizeof}(
      \hyperlink{structpci__device}{pci\_device\_t}));
147 
148     \textcolor{keywordtype}{int} i = 0;
149     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} bus = 0; bus < \hyperlink{pci_8c_acbd6d3799929b7d4f20ba7ca9c7a273b}{PCI\_MAX\_BUS}; bus++) \{
150         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} dev = 0; dev < \hyperlink{pci_8c_ab4541880e38c018ddbf49bb81e3b01f2}{PCI\_MAX\_DEV}; dev++) \{
151             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} func = 0; func < \hyperlink{pci_8c_a2bce7569c5c260ac10180736ab9b682e}{PCI\_MAX\_FUNC}; func++) \{
152                 \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\_t} vendor = \hyperlink{pci_8c_af20e26337824fd3df0f10cf0230fa35d}{pci\_config\_read}(bus, dev, func, 0) & 0xFFFF;
153 
154                 \textcolor{keywordflow}{if}(vendor == 0xFFFF || vendor == 0)
155                     \textcolor{keywordflow}{continue};
156 
157                 \hyperlink{pci_8c_af7ca9409f4548bab8e35404085f62a6b}{pci\_load\_device}(&\hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i], bus, dev, func);
158 
159 \textcolor{preprocessor}{#if 1}
160                 \hyperlink{aplus_8h_af0b53ac0b8d6868da6396b11b30519c1}{kprintf}(\textcolor{stringliteral}{"pci: %d:%d.%d: [%x:%x] (rev %x class %x iobase %x mmio %x type %x int %d
       pin %d)\(\backslash\)n"},
161                             \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].bus,
162                             \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].dev,
163                             \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].func,
164                             \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].vendorID,
165                             \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].deviceID,
166                             \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].revision,
167                             \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].pci\_class,
168                             \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].iobase,
169                             \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].membase,
170                             \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].header,
171                             \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].intr\_line,
172                             \hyperlink{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{pci\_devices}[i].intr\_pin);
173 \textcolor{preprocessor}{#endif}
174 
175                 i++;
176             \}
177         \}
178     \}
179 
180 
181     \hyperlink{aplus_8h_af0b53ac0b8d6868da6396b11b30519c1}{kprintf}(\textcolor{stringliteral}{"pci: loaded %d devices\(\backslash\)n"}, i);
182 
183     \textcolor{keywordflow}{return} 0;
184 \}
\end{DoxyCode}
\hypertarget{pci_8c_af7ca9409f4548bab8e35404085f62a6b}{\index{pci.\+c@{pci.\+c}!pci\+\_\+load\+\_\+device@{pci\+\_\+load\+\_\+device}}
\index{pci\+\_\+load\+\_\+device@{pci\+\_\+load\+\_\+device}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+load\+\_\+device}]{\setlength{\rightskip}{0pt plus 5cm}static void pci\+\_\+load\+\_\+device (
\begin{DoxyParamCaption}
\item[{{\bf pci\+\_\+device\+\_\+t} $\ast$}]{device, }
\item[{{\bf uint8\+\_\+t}}]{bus, }
\item[{{\bf uint8\+\_\+t}}]{dev, }
\item[{{\bf uint8\+\_\+t}}]{func}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{pci_8c_af7ca9409f4548bab8e35404085f62a6b}


Definizione alla linea 103 del file pci.\+c.



Referenzia pci\+\_\+device\+::bus, pci\+\_\+device\+::dev, pci\+\_\+device\+::device\+I\+D, pci\+\_\+device\+::func, pci\+\_\+device\+::header, pci\+\_\+device\+::intr\+\_\+line, pci\+\_\+device\+::intr\+\_\+pin, pci\+\_\+device\+::iobase, pci\+\_\+device\+::membase, pci\+\_\+device\+::pci\+\_\+class, pci\+\_\+get\+\_\+class(), pci\+\_\+get\+\_\+device\+\_\+id(), pci\+\_\+get\+\_\+header\+\_\+type(), pci\+\_\+get\+\_\+intr\+\_\+line(), pci\+\_\+get\+\_\+intr\+\_\+pin(), pci\+\_\+get\+\_\+iobase(), pci\+\_\+get\+\_\+membase(), pci\+\_\+get\+\_\+revision(), pci\+\_\+get\+\_\+vendor\+\_\+id(), pci\+\_\+device\+::revision, e pci\+\_\+device\+::vendor\+I\+D.


\begin{DoxyCode}
103                                                                                           \{
104     device->\hyperlink{structpci__device_a832940e219d52a08725a39fc97663d07}{bus} = bus;
105     device->\hyperlink{structpci__device_ae456e0d5fb85c5d367b1a4e27f996b96}{dev} = dev;
106     device->\hyperlink{structpci__device_ac292358b1097064cb388125a45740aff}{func} = func;
107 
108     device->\hyperlink{structpci__device_ac9682451216985995a3601f14239dc26}{vendorID} = \hyperlink{pci_8c_a8943deffb283d480c4721e9504363db9}{pci\_get\_vendor\_id}(device);
109     device->\hyperlink{structpci__device_a86ce8ddd306b0395037ec7eee789a929}{deviceID} = \hyperlink{pci_8c_a02860d0ea7db7586ef23e70dbc430f4e}{pci\_get\_device\_id}(device);
110     device->\hyperlink{structpci__device_ad6450a83a220d2015cb94a9698580668}{revision} = \hyperlink{pci_8c_aaaed0e6f955935cd6436ddaf221c74dd}{pci\_get\_revision}(device);
111     device->\hyperlink{structpci__device_ae1867eca43c8f867951963a1753649ea}{pci\_class} = \hyperlink{pci_8c_a0bf83fd9b109cd41e61258f3e53208d1}{pci\_get\_class}(device);
112     device->\hyperlink{structpci__device_a5b15ddf1741aaae55aa9933f53876d11}{iobase} = \hyperlink{pci_8c_a68ef7c33e8d461fff6df3e147d8dfd7a}{pci\_get\_iobase}(device);
113     device->\hyperlink{structpci__device_a795ff4e1dc77af09805c41d96766b64b}{membase} = \hyperlink{pci_8c_aa6863ddfaf14fac909640bfa31bbbc4a}{pci\_get\_membase}(device);
114     device->\hyperlink{structpci__device_ad68a4bddbd8fa989a866dccdd5035842}{header} = \hyperlink{pci_8c_aa37c8495a1905ebd6ffcc66b84954cb0}{pci\_get\_header\_type}(device);
115     device->\hyperlink{structpci__device_a3645d371b3c45455414e4f8414e9eed8}{intr\_pin} = \hyperlink{pci_8c_a35471c72465a2387209cd9f8c61cbabf}{pci\_get\_intr\_pin}(device);
116     device->\hyperlink{structpci__device_a6d2298c5255e65c908f6dfdb29e4fcaf}{intr\_line} = \hyperlink{pci_8c_a5748eddc8acf29743a4645494086bfe8}{pci\_get\_intr\_line}(device);
117 \}
\end{DoxyCode}


\subsection{Documentazione delle variabili}
\hypertarget{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}{\index{pci.\+c@{pci.\+c}!pci\+\_\+devices@{pci\+\_\+devices}}
\index{pci\+\_\+devices@{pci\+\_\+devices}!pci.\+c@{pci.\+c}}
\subsubsection[{pci\+\_\+devices}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pci\+\_\+device\+\_\+t}$\ast$ pci\+\_\+devices = N\+U\+L\+L}}\label{pci_8c_ab5a39d7e293f00b1c80deef6c287520d}


Definizione alla linea 19 del file pci.\+c.

