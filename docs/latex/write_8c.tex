\hypertarget{write_8c}{\section{src/syscall/write.c File Reference}
\label{write_8c}\index{src/syscall/write.\+c@{src/syscall/write.\+c}}
}
{\ttfamily \#include $<$aplus.\+h$>$}\\*
{\ttfamily \#include $<$aplus/fs.\+h$>$}\\*
{\ttfamily \#include $<$aplus/syscall.\+h$>$}\\*
{\ttfamily \#include $<$aplus/task.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$fcntl.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include $<$sys/stat.\+h$>$}\\*
{\ttfamily \#include $<$dirent.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{write_8c_a0d770d346dc0c93e695fcb8a0a0f5295}{sys\+\_\+write} (int fd, void $\ast$ptr, size\+\_\+t \hyperlink{mm_8c_a854352f53b148adc24983a58a1866d66}{size})
\item 
\hyperlink{write_8c_ac98021d255ccf030a8cbe505a788031f}{S\+Y\+S\+C\+A\+L\+L} (\hyperlink{write_8c_a0d770d346dc0c93e695fcb8a0a0f5295}{sys\+\_\+write}, 17)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{task_8h_a8aeef2cdb643462b97cd459a8e68cad3}{task\+\_\+t} $\ast$ \hyperlink{write_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\+\_\+task}
\begin{DoxyCompactList}\small\item\em Current task address. \end{DoxyCompactList}\item 
\hyperlink{fs_8h_a48b686d0c4375b0d1aab2296dc36c7a6}{inode\+\_\+t} $\ast$ \hyperlink{write_8c_a9af8258c3554800f6613f8147544225f}{vfs\+\_\+root}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{write_8c_a0d770d346dc0c93e695fcb8a0a0f5295}{\index{write.\+c@{write.\+c}!sys\+\_\+write@{sys\+\_\+write}}
\index{sys\+\_\+write@{sys\+\_\+write}!write.\+c@{write.\+c}}
\subsubsection[{sys\+\_\+write}]{\setlength{\rightskip}{0pt plus 5cm}int sys\+\_\+write (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{void $\ast$}]{ptr, }
\item[{size\+\_\+t}]{size}
\end{DoxyParamCaption}
)}}\label{write_8c_a0d770d346dc0c93e695fcb8a0a0f5295}


Definition at line 19 of file write.\+c.



References errno, task\+::fd, and fs\+\_\+write().


\begin{DoxyCode}
19                                               \{
20     \textcolor{keywordflow}{if}(!\hyperlink{write_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\_task})
21         \textcolor{keywordflow}{return} -1;
22         
23     
24     \hyperlink{structinode}{inode\_t}* ino = \hyperlink{write_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\_task}->\hyperlink{structtask_afeeb6bafaefe505e6a730dd4e0be5a1a}{fd}[fd];
25     \textcolor{keywordflow}{if}(!ino) \{
26         \hyperlink{errno_8c_ad65a8842cc674e3ddf69355898c0ecbf}{errno} = EBADF;
27         \textcolor{keywordflow}{return} -1;
28     \}
29 
30 
31     \textcolor{keywordflow}{return} \hyperlink{fs_8c_a7d87cba454ac1212bfc2277b5792bf95}{fs\_write}(ino, ptr, \hyperlink{iso9660_8h_ae5dc6ffcd9b7605c7787791e40cc6bb0}{size});
32 \}
\end{DoxyCode}
\hypertarget{write_8c_ac98021d255ccf030a8cbe505a788031f}{\index{write.\+c@{write.\+c}!S\+Y\+S\+C\+A\+L\+L@{S\+Y\+S\+C\+A\+L\+L}}
\index{S\+Y\+S\+C\+A\+L\+L@{S\+Y\+S\+C\+A\+L\+L}!write.\+c@{write.\+c}}
\subsubsection[{S\+Y\+S\+C\+A\+L\+L}]{\setlength{\rightskip}{0pt plus 5cm}S\+Y\+S\+C\+A\+L\+L (
\begin{DoxyParamCaption}
\item[{{\bf sys\+\_\+write}}]{, }
\item[{17}]{}
\end{DoxyParamCaption}
)}}\label{write_8c_ac98021d255ccf030a8cbe505a788031f}


\subsection{Variable Documentation}
\hypertarget{write_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{\index{write.\+c@{write.\+c}!current\+\_\+task@{current\+\_\+task}}
\index{current\+\_\+task@{current\+\_\+task}!write.\+c@{write.\+c}}
\subsubsection[{current\+\_\+task}]{\setlength{\rightskip}{0pt plus 5cm}{\bf task\+\_\+t}$\ast$ current\+\_\+task}}\label{write_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}


Current task address. 



Definition at line 35 of file sched.\+c.

\hypertarget{write_8c_a9af8258c3554800f6613f8147544225f}{\index{write.\+c@{write.\+c}!vfs\+\_\+root@{vfs\+\_\+root}}
\index{vfs\+\_\+root@{vfs\+\_\+root}!write.\+c@{write.\+c}}
\subsubsection[{vfs\+\_\+root}]{\setlength{\rightskip}{0pt plus 5cm}{\bf inode\+\_\+t}$\ast$ vfs\+\_\+root}}\label{write_8c_a9af8258c3554800f6613f8147544225f}


Definition at line 19 of file vfs.\+c.

