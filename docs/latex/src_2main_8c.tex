\hypertarget{src_2main_8c}{\section{Riferimenti per il file src/main.c}
\label{src_2main_8c}\index{src/main.\+c@{src/main.\+c}}
}
{\ttfamily \#include $<$aplus.\+h$>$}\\*
{\ttfamily \#include $<$aplus/fs.\+h$>$}\\*
{\ttfamily \#include $<$aplus/list.\+h$>$}\\*
{\ttfamily \#include $<$grub.\+h$>$}\\*
{\ttfamily \#include $<$aplus/task.\+h$>$}\\*
{\ttfamily \#include $<$aplus/attribute.\+h$>$}\\*
{\ttfamily \#include $<$aplus/mm.\+h$>$}\\*
{\ttfamily \#include $<$stddef.\+h$>$}\\*
{\ttfamily \#include $<$sys/times.\+h$>$}\\*
{\ttfamily \#include $<$time.\+h$>$}\\*
{\ttfamily \#include $<$aplus/netif.\+h$>$}\\*
{\ttfamily \#include $<$aplus/net/eth.\+h$>$}\\*
{\ttfamily \#include $<$aplus/net/ipv4.\+h$>$}\\*
{\ttfamily \#include $<$aplus/net/ipv6.\+h$>$}\\*
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{src_2main_8c_aef7c73ff9178a16543352d9e530d8c60}{sysidle} ()
\item 
int \hyperlink{src_2main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main} ()
\end{DoxyCompactItemize}
\subsection*{Variabili}
\begin{DoxyCompactItemize}
\item 
\hyperlink{fs_8h_a48b686d0c4375b0d1aab2296dc36c7a6}{inode\+\_\+t} $\ast$ \hyperlink{src_2main_8c_a9af8258c3554800f6613f8147544225f}{vfs\+\_\+root}
\item 
\hyperlink{task_8h_a8aeef2cdb643462b97cd459a8e68cad3}{task\+\_\+t} $\ast$ \hyperlink{src_2main_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\+\_\+task}
\end{DoxyCompactItemize}


\subsection{Documentazione delle funzioni}
\hypertarget{src_2main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{\index{src/main.\+c@{src/main.\+c}!main@{main}}
\index{main@{main}!src/main.\+c@{src/main.\+c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{src_2main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}


Definizione alla linea 54 del file main.\+c.



Referenzia bufio\+\_\+init(), desc\+\_\+init(), devfs\+\_\+mount(), kprintf, mbd, mkramdev(), mm\+\_\+init(), Boot\+Info\+\_\+t\+::mods\+\_\+addr, Boot\+Info\+\_\+t\+::mods\+\_\+count, netif\+\_\+init(), panic(), pci\+\_\+init(), schedule\+\_\+init(), serial\+\_\+init(), syscall\+\_\+init(), sysidle(), uint32\+\_\+t, vfs\+\_\+init(), e vfs\+\_\+map().


\begin{DoxyCode}
54            \{
55     \hyperlink{serial_8c_a459999cfa35c788b64284953a93c4b57}{serial\_init}();
56     \hyperlink{mm_8c_a25db4b3982d49366c88b6be8331b9215}{mm\_init}();
57     \hyperlink{desc_8c_a6a369f578313199f231869f97e16802d}{desc\_init}();
58     \hyperlink{syscall_8c_a15662fc3572d9f3abd72a439727767c3}{syscall\_init}();
59     \hyperlink{vfs_8c_aca585ca14c08d6c1a07e1b886fc9749a}{vfs\_init}();
60     \hyperlink{src_2sched_8c_a9f6f16348da2348d320d255437e6ac02}{schedule\_init}();
61     \hyperlink{bufio_8c_a8553eb3703bbc2ac89010ccfaefe760f}{bufio\_init}();
62     \hyperlink{pci_8c_a5c450b9e2534226b162a16de0ef6b434}{pci\_init}();
63     \hyperlink{netif_8c_af7c3254022249b2dfa78151c8f345e77}{netif\_init}();
64     
65     \hyperlink{vfs_8c_acb87c78588a46c5526e933c495b69c2a}{vfs\_map}(\hyperlink{devfs_8c_a12b8ede9eeee8603d4b89d189a484380}{devfs\_mount}());
66 
67 
68     \textcolor{keywordflow}{if}(\hyperlink{grub_8h_abac514a5a8c938a1de6fb08f542f5962}{mbd}->\hyperlink{structBootInfo__t_a178ef95a8fbd89ec018899b9ba241d92}{mods\_count} == 0)
69         \hyperlink{panic_8c_a92ad17d19a46880dd5e6c99143666b4a}{panic}(\textcolor{stringliteral}{"no initrd module found"});
70     
71 
72     \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\_t} addr = ((\hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\_t}*) \hyperlink{grub_8h_abac514a5a8c938a1de6fb08f542f5962}{mbd}->\hyperlink{structBootInfo__t_a1be510e25cd3a21bfd0d4d3b303e0543}{mods\_addr}) [0];
73     \hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\_t} endp = ((\hyperlink{aplus_8h_a53a0df51603c77c2aa5b9ea61b606a82}{uint32\_t}*) \hyperlink{grub_8h_abac514a5a8c938a1de6fb08f542f5962}{mbd}->\hyperlink{structBootInfo__t_a1be510e25cd3a21bfd0d4d3b303e0543}{mods\_addr}) [1];
74 
75 
76     \hyperlink{aplus_8h_af0b53ac0b8d6868da6396b11b30519c1}{kprintf}(\textcolor{stringliteral}{"initrd: module found at addess: 0x%x (%d KB)\(\backslash\)n"}, addr, (endp - addr) / 1024);
77 
78 
79     \textcolor{keywordflow}{if}(!\hyperlink{ramdev_8c_a0c040a7a5a5150b0b0d18354ac6f4958}{mkramdev}(\textcolor{stringliteral}{"/dev/ram0"}, addr, endp - addr))
80         \hyperlink{panic_8c_a92ad17d19a46880dd5e6c99143666b4a}{panic}(\textcolor{stringliteral}{"initrd: cannot create /dev/ram0"});
81 
82 
83     \textcolor{comment}{//if(sys\_mount("/dev/ram0", "/dev/ramdisk", "iso9660", 0, 0) != 0)}
84     \textcolor{comment}{//  panic("initrd: cannot mount ramdisk");}
85 
86 
87 
88     \textcolor{comment}{/* TODO: iso9660 support */}
89 
90 
91 
92 \textcolor{comment}{/*}
93 \textcolor{comment}{    if(fork() == 0)}
94 \textcolor{comment}{        execl("/bin/init", "/bin/init", 0);}
95 \textcolor{comment}{    else}
96 \textcolor{comment}{*/}
97     \hyperlink{src_2main_8c_aef7c73ff9178a16543352d9e530d8c60}{sysidle}();
98 \}
\end{DoxyCode}
\hypertarget{src_2main_8c_aef7c73ff9178a16543352d9e530d8c60}{\index{src/main.\+c@{src/main.\+c}!sysidle@{sysidle}}
\index{sysidle@{sysidle}!src/main.\+c@{src/main.\+c}}
\subsubsection[{sysidle}]{\setlength{\rightskip}{0pt plus 5cm}static void sysidle (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{src_2main_8c_aef7c73ff9178a16543352d9e530d8c60}


Definizione alla linea 45 del file main.\+c.



Referenzia \+\_\+\+\_\+asm\+\_\+\+\_\+(), schedule\+\_\+setpriority(), e T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y\+\_\+\+L\+O\+W.


\begin{DoxyCode}
45                       \{
46     \hyperlink{src_2sched_8c_a878aa3454133f7c01a4ba15ef68b9be2}{schedule\_setpriority}(\hyperlink{task_8h_a00a0568927a39311236b718f2018c0ab}{TASK\_PRIORITY\_LOW});
47 
48 
49     \textcolor{keywordflow}{for}(;;)
50         \hyperlink{desc_8c_ad365b1ba0a341f9a84551327fe0dac7b}{\_\_asm\_\_} (\textcolor{stringliteral}{"pause"});
51 \}
\end{DoxyCode}


\subsection{Documentazione delle variabili}
\hypertarget{src_2main_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{\index{src/main.\+c@{src/main.\+c}!current\+\_\+task@{current\+\_\+task}}
\index{current\+\_\+task@{current\+\_\+task}!src/main.\+c@{src/main.\+c}}
\subsubsection[{current\+\_\+task}]{\setlength{\rightskip}{0pt plus 5cm}{\bf task\+\_\+t}$\ast$ current\+\_\+task}}\label{src_2main_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}


Definizione alla linea 33 del file sched.\+c.

\hypertarget{src_2main_8c_a9af8258c3554800f6613f8147544225f}{\index{src/main.\+c@{src/main.\+c}!vfs\+\_\+root@{vfs\+\_\+root}}
\index{vfs\+\_\+root@{vfs\+\_\+root}!src/main.\+c@{src/main.\+c}}
\subsubsection[{vfs\+\_\+root}]{\setlength{\rightskip}{0pt plus 5cm}{\bf inode\+\_\+t}$\ast$ vfs\+\_\+root}}\label{src_2main_8c_a9af8258c3554800f6613f8147544225f}


Definizione alla linea 19 del file vfs.\+c.

