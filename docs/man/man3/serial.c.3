.TH "src/arch/serial.c" 3 "Wed Nov 12 2014" "Version 0.1" "aPlus" \" -*- nroff -*-
.ad l
.nh
.SH NAME
src/arch/serial.c \- 
.SH SYNOPSIS
.br
.PP
\fC#include <aplus\&.h>\fP
.br
\fC#include <aplus/spinlock\&.h>\fP
.br
\fC#include <stdint\&.h>\fP
.br

.SS "Functions"

.in +1c
.ti -1c
.RI "void \fBserial_send\fP (\fBuint8_t\fP port, \fBuint8_t\fP \fBvalue\fP)"
.br
.ti -1c
.RI "\fBuint8_t\fP \fBserial_recv\fP (\fBuint8_t\fP port)"
.br
.ti -1c
.RI "int \fBserial_init\fP ()"
.br
.in -1c
.SS "Variables"

.in +1c
.ti -1c
.RI "static \fBuint16_t\fP \fBserial\fP []"
.br
.in -1c
.SH "Function Documentation"
.PP 
.SS "int serial_init ()"

.PP
Definition at line 22 of file serial\&.c\&.
.PP
References serial\&.
.PP
.nf
22                   {
23     for(int i = 0; i < sizeof(serial); i++) {
24         outb(serial[i] + 1, 0x00);
25         outb(serial[i] + 3, 0x80);
26         outb(serial[i] + 0, 0x03);
27         outb(serial[i] + 1, 0x00);
28         outb(serial[i] + 3, 0x03);
29         outb(serial[i] + 2, 0xC7);
30         outb(serial[i] + 4, 0x0B);
31     }
32 
33     return 0;
34 }
.fi
.SS "\fBuint8_t\fP serial_recv (\fBuint8_t\fPport)"

.PP
Definition at line 16 of file serial\&.c\&.
.PP
References fastlock_waiton, and serial\&.
.PP
.nf
16                                   {
17     fastlock_waiton((inb(serial[port] + 5) & 1) == 0);
18     
19     return inb(serial[port]);
20 }
.fi
.SS "void serial_send (\fBuint8_t\fPport, \fBuint8_t\fPvalue)"

.PP
Definition at line 11 of file serial\&.c\&.
.PP
References fastlock_waiton, and serial\&.
.PP
.nf
11                                               {
12     fastlock_waiton(((inb(serial[port] + 5) & 32) == 0));
13     outb(serial[port], value);
14 }
.fi
.SH "Variable Documentation"
.PP 
.SS "\fBuint16_t\fP serial[]\fC [static]\fP"
\fBInitial value:\fP
.PP
.nf
= {
    0x3F8, 0x2F8, 0x3E8, 0x2E8
}
.fi
.PP
Definition at line 7 of file serial\&.c\&.
.SH "Author"
.PP 
Generated automatically by Doxygen for aPlus from the source code\&.
