.TH "src/fs/iso9660/iso9660_read.c" 3 "Sun Nov 16 2014" "Version 0.1" "aPlus" \" -*- nroff -*-
.ad l
.nh
.SH NAME
src/fs/iso9660/iso9660_read.c \- 
.SH SYNOPSIS
.br
.PP
\fC#include <aplus\&.h>\fP
.br
\fC#include <aplus/fs\&.h>\fP
.br
\fC#include <aplus/task\&.h>\fP
.br
\fC#include <aplus/spinlock\&.h>\fP
.br
\fC#include <aplus/mm\&.h>\fP
.br
\fC#include <stdint\&.h>\fP
.br
\fC#include <string\&.h>\fP
.br
\fC#include <unistd\&.h>\fP
.br
\fC#include <dirent\&.h>\fP
.br
\fC#include <fcntl\&.h>\fP
.br
\fC#include <sys/types\&.h>\fP
.br
\fC#include 'iso9660\&.h'\fP
.br

.SS "Functions"

.in +1c
.ti -1c
.RI "int \fBiso9660_read\fP (\fBinode_t\fP *ino, char *buf, int \fBsize\fP)"
.br
.in -1c
.SH "Function Documentation"
.PP 
.SS "int iso9660_read (\fBinode_t\fP *ino, char *buf, intsize)"

.PP
Definition at line 17 of file iso9660_read\&.c\&.
.PP
References inode::dev, devfs_getdevice(), fs_read(), inode::position, inode::size, size, and inode::userdata\&.
.PP
.nf
17                                                     {
18     if(!ino)
19         return 0;
20         
21     if(!buf)
22         return 0;
23         
24     if(size > ino->size)
25         size = ino->size;
26         
27     if(ino->position > ino->size)
28         ino->position = ino->size;
29         
30     if(ino->position + size > ino->size)
31         size = ino->size - ino->position;
32         
33     if(!size)
34         return 0;
35 
36     inode_t* dev = (inode_t*) devfs_getdevice(ino->dev);
37     if(!dev)
38         return 0;
39 
40     
41     dev->position = (off_t) ino->userdata + ino->position;
42     fs_read(dev, buf, size);
43 
44     return size;
45 }
.fi
.SH "Author"
.PP 
Generated automatically by Doxygen for aPlus from the source code\&.
